<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Generator SOP & IK - GrandMitra</title>
    <style>
        /* Reset dan Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.5;
            color: #333;
            background: #f5f5f5;
            padding: 15px;
        }
        
        /* Login Container Styles */
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            text-align: center;
        }
        
        .login-logo {
            max-width: 200px;
            margin: 0 auto 20px;
            display: block;
        }
        
        .login-title {
            color: #2c5530;
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        .login-subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .login-form {
            margin-top: 20px;
        }
        
        .login-input-group {
            margin-bottom: 20px;
            text-align: left;
        }
        
        .login-label {
            display: block;
            margin-bottom: 8px;
            color: #2c5530;
            font-weight: 600;
            font-size: 14px;
        }
        
        .login-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .login-input:focus {
            outline: none;
            border-color: #4a7c59;
            box-shadow: 0 0 0 3px rgba(44, 85, 48, 0.1);
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            background: #2c5530;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .login-btn:hover {
            background: #3a6b42;
        }
        
        .login-error {
            color: #e74c3c;
            margin-top: 15px;
            font-size: 14px;
            display: none;
        }
        
        .login-info {
            margin-top: 20px;
            font-size: 12px;
            color: #666;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        /* Main Container (akan ditampilkan setelah login) */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none; /* Awalnya disembunyikan */
        }
        
        /* Header Styles */
        .doc-header {
            padding: 15px 20px;
            background: #fff;
            border-bottom: 1px solid #2c5530;
            position: relative;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .logo-container {
            flex: 0 0 auto;
        }
        
        .logo {
            height: 40px;
            width: auto;
        }
        
        .doc-title {
            flex: 1;
            text-align: center;
            padding: 0 15px;
        }
        
        .doc-title h1 {
            color: #2c5530;
            font-size: 18px;
            margin-bottom: 2px;
            font-weight: 700;
            line-height: 1.2;
        }
        
        .doc-title h2 {
            color: #4a7c59;
            font-size: 14px;
            font-weight: 500;
            line-height: 1.2;
        }
        
        .doc-info {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: #666;
            padding-top: 6px;
            border-top: 1px solid #eee;
        }
        
        .doc-info-left, .doc-info-right {
            display: flex;
            gap: 15px;
        }
        
        /* Form Styles */
        .form-section {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            padding: 15px 20px;
            margin: 20px;
            border-radius: 4px;
        }
        
        .form-group {
            margin-bottom: 12px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 4px;
            font-weight: 600;
            color: #2c5530;
            font-size: 13px;
        }
        
        .form-control {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 13px;
            font-family: inherit;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #4a7c59;
            box-shadow: 0 0 0 2px rgba(44, 85, 48, 0.1);
        }
        
        .custom-select-container {
            position: relative;
        }
        
        .custom-select-container .form-control {
            padding-right: 40px;
        }
        
        .clear-selection {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 14px;
            padding: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .clear-selection:hover {
            color: #e74c3c;
        }
        
        textarea.form-control {
            min-height: 80px;
            resize: vertical;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 12px;
            line-height: 1.4;
        }
        
        /* SOP List Container */
        .sop-list-container {
            background: #e8f5e8;
            border: 1px solid #c3e6cb;
            padding: 12px 15px;
            margin: 15px 20px;
            border-radius: 3px;
            font-size: 11px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .sop-list-header {
            font-weight: 600;
            color: #2c5530;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Search Container */
        .sop-search-container {
            position: relative;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .search-input {
            width: 100%;
            padding: 8px 12px;
            padding-right: 35px;
            border: 1px solid #c3e6cb;
            border-radius: 4px;
            font-size: 12px;
            background: #fff;
            color: #333;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #4a7c59;
            box-shadow: 0 0 0 2px rgba(44, 85, 48, 0.2);
        }
        
        .btn-reset {
            position: absolute;
            right: 8px;
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 18px;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }
        
        .btn-reset:hover {
            color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
        }
        
        .search-info {
            font-size: 10px;
            color: #666;
            margin-top: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .search-highlight {
            background-color: #ffeb3b;
            padding: 0 2px;
            border-radius: 2px;
            font-weight: 600;
        }
        
        /* Untuk hasil pencarian tersaring */
        .sop-category.filtered {
            opacity: 0.7;
        }
        
        .sop-category.hidden {
            display: none;
        }
        
        .sop-item.hidden {
            display: none;
        }
        
        .sop-item.highlighted {
            background-color: #e8f5e8;
            border-left-color: #2c5530;
            font-weight: 600;
        }
        
        .sop-category {
            margin-bottom: 10px;
        }
        
        .sop-category-title {
            font-weight: 600;
            color: #2c5530;
            background: #d4edda;
            padding: 3px 8px;
            border-radius: 2px;
            margin-bottom: 5px;
            font-size: 10px;
            text-transform: uppercase;
        }
        
        .sop-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 5px;
            margin-left: 10px;
        }
        
        .sop-item {
            font-size: 10px;
            color: #666;
            padding: 2px 5px;
            border-left: 2px solid #4a7c59;
            cursor: pointer;
        }
        
        .sop-item:hover {
            background-color: #f0f8f0;
        }
        
        /* Button Styles */
        .btn-group {
            display: flex;
            gap: 8px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s ease;
        }
        
        .btn-primary {
            background: #2c5530;
            color: white;
        }
        
        .btn-primary:hover {
            background: #3a6b42;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #219653;
        }
        
        .btn-warning {
            background: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background: #e67e22;
        }
        
        .btn-info {
            background: #3498db;
            color: white;
        }
        
        .btn-info:hover {
            background: #2980b9;
        }
        
        .btn-flowchart {
            background: #9b59b6;
            color: white;
        }
        
        .btn-flowchart:hover {
            background: #8e44ad;
        }
        
        .btn-print {
            background: #7f8c8d;
            color: white;
        }
        
        .btn-print:hover {
            background: #6c7b7d;
        }
        
        /* Output Section */
        .output-section {
            margin: 20px;
            position: relative;
        }
        
        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .output-title {
            font-size: 16px;
            color: #2c5530;
            font-weight: 600;
        }
        
        .output-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .page-counter {
            font-size: 12px;
            color: #666;
            background: #f0f0f0;
            padding: 3px 8px;
            border-radius: 3px;
        }
        
        #promptOutput {
            background: #fdfdfd;
            border: 1px solid #ddd;
            border-radius: 3px;
            padding: 15px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 400px;
            overflow-y: auto;
            min-height: 200px;
            color: #2c3e50;
        }
        
        /* Alert/Message */
        .alert {
            padding: 10px 12px;
            border-radius: 3px;
            margin: 10px 20px;
            display: none;
            font-size: 13px;
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-success a {
            color: #0c5460;
            font-weight: 600;
            text-decoration: none;
        }
        
        .alert-success a:hover {
            text-decoration: underline;
        }
        
        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        /* Footer */
        .doc-footer {
            padding: 12px 20px;
            background: #f8f9fa;
            border-top: 1px solid #ddd;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .footer-info {
            font-size: 11px;
            color: #666;
        }
        
        .footer-buttons {
            display: flex;
            gap: 8px;
        }
        
        /* Flowchart Preview */
        .flowchart-preview {
            margin: 20px;
            padding: 15px;
            background: #f8f9fa;
            border: 2px dashed #4a7c59;
            border-radius: 4px;
            display: none;
        }
        
        .flowchart-preview h3 {
            color: #2c5530;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .flowchart-container {
            background: white;
            padding: 15px;
            border-radius: 3px;
            border: 1px solid #ddd;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .flowchart-svg {
            width: 100%;
            max-width: 600px;
            height: auto;
        }
        
        .flowchart-steps {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .flowchart-step {
            background: #4a7c59;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .flowchart-arrow {
            color: #2c5530;
            font-weight: bold;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                margin: 0;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .logo-container {
                margin-bottom: 10px;
            }
            
            .doc-title {
                padding: 0;
            }
            
            .form-section, .output-section, .sop-list-container, .flowchart-preview {
                margin: 10px;
            }
            
            .doc-footer {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .footer-buttons {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .sop-items {
                grid-template-columns: 1fr;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .sop-search-container {
                margin-bottom: 8px;
            }
            
            .search-input {
                font-size: 11px;
                padding: 6px 10px;
                padding-right: 30px;
            }
            
            .btn-reset {
                right: 6px;
                width: 20px;
                height: 20px;
                font-size: 16px;
            }
            
            .search-info {
                font-size: 9px;
            }
            
            /* Responsive untuk login */
            .login-container {
                margin: 50px 20px;
                padding: 20px;
            }
        }
        
        /* Logout Button */
        .logout-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
        }
        
        .logout-btn:hover {
            background: #c0392b;
        }
        
        /* Animasi untuk transisi */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-container" id="loginContainer">
        <img src="https://grandmitra.com/wp-content/uploads/2024/09/gm-1536x328.png" 
             alt="GrandMitra Logo" 
             class="login-logo">
        <h1 class="login-title">Prompt Generator SOP & IK</h1>
        <p class="login-subtitle">GrandMitra - Supermarket Bahan Bangunan</p>
        
        <div class="login-form">
            <div class="login-input-group">
                <label class="login-label" for="loginPassword">MASUKKAN PASSWORD</label>
                <input type="password" 
                       id="loginPassword" 
                       class="login-input" 
                       placeholder="Masukkan password akses..."
                       autocomplete="off">
            </div>
            
            <button type="button" id="loginBtn" class="login-btn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px; vertical-align: middle;">
                    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                    <polyline points="10 17 15 12 10 7"/>
                    <line x1="15" y1="12" x2="3" y2="12"/>
                </svg>
                MASUK
            </button>
            
            <div class="login-error" id="loginError">
                Password salah! Silakan coba lagi.
            </div>
            
            <div class="login-info">
                <p>Hanya untuk penggunaan internal GrandMitra.<br>
                Hubungi Administrator untuk mendapatkan password akses.</p>
                <p style="margin-top: 10px; font-size: 11px; color: #999;">
                    © 2026 GrandMitra. All rights reserved.
                </p>
            </div>
        </div>
    </div>

    <!-- Logout Button (akan ditampilkan setelah login) -->
    <button class="logout-btn" id="logoutBtn" title="Keluar">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
            <polyline points="16 17 21 12 16 7"/>
            <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
    </button>

    <!-- Main Application Content (akan ditampilkan setelah login) -->
    <div class="container" id="mainContainer">
        <!-- Document Header dengan Logo -->
        <div class="doc-header">
            <div class="header-content">
                <div class="logo-container">
                    <img src="https://grandmitra.com/wp-content/uploads/2024/09/gm-1536x328.png" 
                         alt="GrandMitra Logo" 
                         class="logo">
                </div>
                <div class="doc-title">
                    <h1>GENERATOR</h1>
                    <h2>STANDARD OPERATING PROCEDURE & INSTRUKSI KERJA</h2>
                </div>
                <div style="width: 60px;"></div>
            </div>
            <div class="doc-info">
                <div class="doc-info-left">
                    <span><strong>No. Dokumen:</strong> <span id="currentDocNumber">GEN-SOP-IK-001</span></span>
                    <span><strong>Tgl Berlaku:</strong> 1 Januari 2026</span>
                </div>
                <div class="doc-info-right">
                    <span><strong>Revisi:</strong> 01</span>
                    <span><strong>Halaman:</strong> <span id="currentPage">1</span>/<span id="totalPages">1</span></span>
                </div>
            </div>
        </div>

        <!-- Daftar SOP -->
        <div class="sop-list-container">
            <div class="sop-list-header">
                <span>DAFTAR SOP TERSEDIA (Pilih dari dropdown atau klik item)</span>
                <span style="font-size: 9px; color: #666;">Total: <span id="sopCount">350</span> SOP</span>
            </div>
            
            <!-- Search Container -->
            <div class="sop-search-container">
                <input type="text" id="sopSearch" class="search-input" 
                       placeholder="Cari SOP berdasarkan judul atau kode...">
                <button id="resetSearch" class="btn-reset" title="Reset pencarian">×</button>
            </div>
            <div class="search-info">
                <span id="searchResults">Menampilkan semua SOP</span>
                <span id="searchCount">0 hasil</span>
            </div>
            
            <div class="sop-category">
                <div class="sop-category-title">HUMAN RESOURCES (HRD)</div>
                <div class="sop-items" id="hrdSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">GENERAL AFFAIRS (GA)</div>
                <div class="sop-items" id="gaSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">FINANCE & ACCOUNTING (FA)</div>
                <div class="sop-items" id="faSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">STORE OPERATIONS</div>
                <div class="sop-items" id="storeSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">PURCHASING (PB)</div>
                <div class="sop-items" id="purchasingSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">PROJECT SALES</div>
                <div class="sop-items" id="projectSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">MARKETING (MKT)</div>
                <div class="sop-items" id="marketingSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">VISUAL MERCHANDISING (VM)</div>
                <div class="sop-items" id="vmSops"></div>
            </div>
            <div class="sop-category">
                <div class="sop-category-title">SECURITY (SEC)</div>
                <div class="sop-items" id="securitySops"></div>
            </div>
        </div>

        <!-- Form Input Section -->
        <div class="form-section">
            <div class="form-group">
                <label for="companyName">Nama Perusahaan:</label>
                <input type="text" id="companyName" class="form-control" 
                       value="GrandMitra - Supermarket Bahan Bangunan"
                       placeholder="Masukkan nama perusahaan">
            </div>
            
            <div class="form-group">
                <label for="logoUrl">URL Logo Perusahaan:</label>
                <input type="text" id="logoUrl" class="form-control" 
                       value="https://grandmitra.com/wp-content/uploads/2024/09/gm-1536x328.png"
                       placeholder="Masukkan URL logo perusahaan">
            </div>
            
            <div class="form-group">
                <label for="sopTitle">Judul SOP/IK:</label>
                <div class="custom-select-container">
                    <input type="text" id="sopTitle" class="form-control" 
                           list="sopOptions"
                           placeholder="Pilih dari dropdown atau ketik manual..."
                           autocomplete="off">
                    <datalist id="sopOptions"></datalist>
                    <button type="button" class="clear-selection" id="clearSelection" title="Clear selection">×</button>
                </div>
                <div style="font-size: 11px; color: #666; margin-top: 4px;">
                    <span id="selectedSopCode" style="display: none;">
                        Kode: <strong id="sopCodeDisplay"></strong> | 
                        Kategori: <span id="sopCategoryDisplay"></span>
                    </span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="docNumber">Nomor Dokumen:</label>
                <input type="text" id="docNumber" class="form-control" 
                       placeholder="Akan terisi otomatis berdasarkan pilihan SOP"
                       readonly>
            </div>
            
            <div class="form-group">
                <label for="docType">Jenis Dokumen:</label>
                <select id="docType" class="form-control">
                    <option value="both">SOP dan IK (Keduanya)</option>
                    <option value="sop">SOP saja</option>
                    <option value="ik">IK saja</option>
                    <option value="full_template">Full Template dengan Semua Tabel (+ Flowchart)</option>
                </select>
                <div style="font-size: 11px; color: #666; margin-top: 4px;">
                    <em>Pilih "Full Template" untuk dokumen lengkap dengan semua tabel auditor dan flowchart</em>
                </div>
            </div>
            
            <div class="form-group">
                <label for="description">Deskripsi Prosedur:</label>
                <textarea id="description" class="form-control" 
                          placeholder="Deskripsi akan terisi otomatis berdasarkan pilihan SOP"></textarea>
            </div>
            
            <div class="form-group">
                <label for="scope">Ruang Lingkup (Opsional):</label>
                <textarea id="scope" class="form-control" 
                          placeholder="Ruang lingkup akan terisi otomatis berdasarkan pilihan SOP"></textarea>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="generateBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                    Generate Prompt
                </button>
                <button class="btn btn-success" id="copyBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
                    </svg>
                    Salin ke Clipboard
                </button>
                <button class="btn btn-warning" id="deepseekBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
                        <polyline points="15 3 21 3 21 9"/>
                        <line x1="10" y1="14" x2="21" y2="3"/>
                    </svg>
                    Buka DeepSeek
                </button>
                <button class="btn btn-flowchart" id="flowchartBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9 18 15 12 9 6"/>
                    </svg>
                    Generate Flowchart
                </button>
            </div>
        </div>

        <!-- Flowchart Preview Section -->
        <div class="flowchart-preview" id="flowchartPreview">
            <h3>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>
                </svg>
                PREVIEW FLOWCHART
            </h3>
            <div class="flowchart-container" id="flowchartContainer">
                <svg class="flowchart-svg" viewBox="0 0 800 200" id="flowchartSvg"></svg>
                <div class="flowchart-steps" id="flowchartSteps"></div>
            </div>
            <div style="margin-top: 15px; text-align: center;">
                <button class="btn btn-info" id="openFlowchartBuilderBtn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                        <polyline points="15 3 21 3 21 9"/>
                        <line x1="10" y1="14" x2="21" y2="3"/>
                    </svg>
                    Buka Flowchart Builder
                </button>
                <button class="btn btn-success" id="copyFlowchartBtn" style="margin-left: 10px;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                    Salin Flowchart Code
                </button>
            </div>
        </div>

        <!-- Success Message -->
        <div class="alert alert-success" id="successMessage">
            ✓ Prompt berhasil disalin ke clipboard! Buka <a href="https://chat.deepseek.com/" target="_blank">chat.deepseek.com</a> dan tempel (Ctrl+V)
        </div>

        <!-- Info Message -->
        <div class="alert alert-info" id="flowchartInfo" style="display: none;">
            ℹ️ Flowchart telah digenerate! Anda dapat menggunakan kode SVG ini dalam dokumen Full Template.
        </div>

        <!-- Output Section -->
        <div class="output-section">
            <div class="output-header">
                <div class="output-title">PROMPT OUTPUT</div>
                <div class="output-controls">
                    <div class="page-counter">Karakter: <span id="charCount">0</span></div>
                </div>
            </div>
            <pre id="promptOutput">// Prompt akan muncul di sini setelah Anda mengklik "Generate Prompt"
// Pilih SOP dari dropdown untuk mengisi form secara otomatis</pre>
        </div>

        <!-- Footer -->
        <div class="doc-footer">
            <div class="footer-info">
                © 2026 GrandMitra - Supermarket Bahan Bangunan. All rights reserved.<br>
                <span id="footerDocNumber">Dokumen GEN-SOP-IK-001</span> | Revisi: 01 | Berlaku sejak: 1 Januari 2026
            </div>
            <div class="footer-buttons">
                <button class="btn btn-print" onclick="window.print()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 6 2 18 2 18 9"/>
                        <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                        <rect x="6" y="14" width="12" height="8"/>
                    </svg>
                    Cetak Halaman
                </button>
            </div>
        </div>
    </div>

    <script>
        // ================= PASSWORD KONFIGURASI =================
        const HARDCODED_PASSWORD = "mbg212"; // Password hardcode
        const SESSION_TIMEOUT = 30 * 60 * 1000; // 30 menit dalam milidetik
        
        // State untuk autentikasi
        let isAuthenticated = false;
        let sessionTimer = null;
        
        // DOM Elements untuk login
        const loginContainer = document.getElementById('loginContainer');
        const loginPassword = document.getElementById('loginPassword');
        const loginBtn = document.getElementById('loginBtn');
        const loginError = document.getElementById('loginError');
        const mainContainer = document.getElementById('mainContainer');
        const logoutBtn = document.getElementById('logoutBtn');
        
        // ================= FUNGSI AUTENTIKASI =================
        
        // Fungsi untuk handle login
        function handleLogin() {
            const password = loginPassword.value.trim();
            
            if (password === HARDCODED_PASSWORD) {
                // Login berhasil
                isAuthenticated = true;
                
                // Sembunyikan login screen
                loginContainer.style.display = 'none';
                
                // Tampilkan main app dengan animasi
                mainContainer.style.display = 'block';
                logoutBtn.style.display = 'flex';
                
                // Tambahkan kelas animasi
                mainContainer.classList.add('fade-in');
                
                // Reset error message
                loginError.style.display = 'none';
                loginPassword.value = '';
                
                // Initialize aplikasi
                initializeApp();
                
                // Mulai session timer
                startSessionTimer();
                
                // Simpan status login di sessionStorage
                sessionStorage.setItem('sopAppAuthenticated', 'true');
                sessionStorage.setItem('sopAppLoginTime', new Date().getTime().toString());
                
                console.log('Login berhasil. Aplikasi diinisialisasi.');
            } else {
                // Login gagal
                loginError.style.display = 'block';
                loginPassword.value = '';
                loginPassword.focus();
                
                // Tambahkan efek shake untuk error
                loginContainer.style.animation = 'none';
                setTimeout(() => {
                    loginContainer.style.animation = 'shake 0.5s';
                }, 10);
                
                console.log('Login gagal: Password salah');
            }
        }
        
        // Fungsi untuk handle logout
        function handleLogout() {
            // Reset state
            isAuthenticated = false;
            
            // Tampilkan login screen
            loginContainer.style.display = 'block';
            
            // Sembunyikan main app
            mainContainer.style.display = 'none';
            logoutBtn.style.display = 'none';
            
            // Reset session storage
            sessionStorage.removeItem('sopAppAuthenticated');
            sessionStorage.removeItem('sopAppLoginTime');
            
            // Clear session timer
            if (sessionTimer) {
                clearTimeout(sessionTimer);
                sessionTimer = null;
            }
            
            // Focus ke password field
            loginPassword.focus();
            
            console.log('Logout berhasil.');
        }
        
        // Fungsi untuk memulai session timer
        function startSessionTimer() {
            // Clear timer sebelumnya jika ada
            if (sessionTimer) {
                clearTimeout(sessionTimer);
            }
            
            // Set timer untuk auto logout setelah 30 menit
            sessionTimer = setTimeout(() => {
                alert('Session telah berakhir. Silakan login kembali.');
                handleLogout();
            }, SESSION_TIMEOUT);
        }
        
        // Fungsi untuk reset session timer (dipanggil saat ada aktivitas)
        function resetSessionTimer() {
            if (isAuthenticated) {
                startSessionTimer();
            }
        }
        
        // Fungsi untuk cek session dari sessionStorage
        function checkExistingSession() {
            const isLoggedIn = sessionStorage.getItem('sopAppAuthenticated') === 'true';
            const loginTime = parseInt(sessionStorage.getItem('sopAppLoginTime') || '0');
            const currentTime = new Date().getTime();
            const timeDiff = currentTime - loginTime;
            
            if (isLoggedIn && timeDiff < SESSION_TIMEOUT) {
                // Session masih valid
                isAuthenticated = true;
                loginContainer.style.display = 'none';
                mainContainer.style.display = 'block';
                logoutBtn.style.display = 'flex';
                mainContainer.classList.add('fade-in');
                
                initializeApp();
                startSessionTimer();
                
                console.log('Session dipulihkan. Waktu tersisa:', 
                    Math.round((SESSION_TIMEOUT - timeDiff) / 60000), 'menit');
                return true;
            } else {
                // Session expired atau tidak ada
                sessionStorage.removeItem('sopAppAuthenticated');
                sessionStorage.removeItem('sopAppLoginTime');
                return false;
            }
        }
        
        // Event Listeners untuk autentikasi
        loginBtn.addEventListener('click', handleLogin);
        
        loginPassword.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                handleLogin();
            }
        });
        
        logoutBtn.addEventListener('click', handleLogout);
        
        // Track user activity untuk reset timer
        document.addEventListener('click', resetSessionTimer);
        document.addEventListener('keypress', resetSessionTimer);
        document.addEventListener('scroll', resetSessionTimer);
        
        // ================= FUNGSI APLIKASI UTAMA =================
        
        // Data SOP lengkap (sama seperti sebelumnya)
        const sopData = [
            // HRD - Recruitment (7 items)
            { 
                code: "SOP-HRD-R001", 
                title: "Perencanaan Tenaga Kerja (Manpower Planning)",
                category: "HRD - Recruitment",
                description: "Prosedur perencanaan kebutuhan tenaga kerja berdasarkan analisis kebutuhan bisnis, budget, dan struktur organisasi.",
                scope: "• Analisis kebutuhan tenaga kerja\n• Budget planning untuk recruitment\n• Timeline perekrutan\n• Persetujuan dari manajemen"
            },
            { 
                code: "SOP-HRD-R002", 
                title: "Analisis & Evaluasi Jabatan (Job Analysis & Evaluation)",
                category: "HRD - Recruitment",
                description: "Prosedur analisis dan evaluasi jabatan untuk menentukan deskripsi pekerjaan, spesifikasi, dan grading.",
                scope: "• Job description analysis\n• Job evaluation and grading\n• Competency mapping\n• Salary benchmarking"
            },
            { 
                code: "SOP-HRD-R003", 
                title: "Permintaan & Pembukaan Lowongan Pekerjaan (Job Opening Request)",
                category: "HRD - Recruitment",
                description: "Prosedur pengajuan dan persetujuan pembukaan lowongan pekerjaan.",
                scope: "• Pengajuan kebutuhan staff baru\n• Persetujuan manajemen\n• Budget approval\n• Timeline recruitment"
            },
            { 
                code: "SOP-HRD-R004", 
                title: "Proses Rekrutmen & Seleksi Eksternal",
                category: "HRD - Recruitment",
                description: "Prosedur rekrutmen dan seleksi kandidat dari sumber eksternal.",
                scope: "• Sourcing kandidat\n• Screening CV\n• Interview process\n• Selection decision"
            },
            { 
                code: "SOP-HRD-R005", 
                title: "Proses Rekrutmen & Seleksi Internal (Promosi & Mutasi)",
                category: "HRD - Recruitment",
                description: "Prosedur rekrutmen dan seleksi untuk promosi dan mutasi internal.",
                scope: "• Internal job posting\n• Assessment internal\n• Interview process\n• Approval promotion"
            },
            { 
                code: "SOP-HRD-R006", 
                title: "Pemeriksaan Latar Belakang (Background Check)",
                category: "HRD - Recruitment",
                description: "Prosedur pemeriksaan latar belakang kandidat sebelum penawaran kerja.",
                scope: "• Reference check\n• Education verification\n• Employment history\n• Criminal record check"
            },
            { 
                code: "SOP-HRD-R007", 
                title: "Pemberian Surat Penawaran Kerja (Offer Letter)",
                category: "HRD - Recruitment",
                description: "Prosedur pemberian dan negosiasi surat penawaran kerja.",
                scope: "• Salary offer preparation\n• Benefit package\n• Negotiation process\n• Offer letter signing"
            },
            
            // HRD - Onboarding (6 items)
            { 
                code: "SOP-HRD-O001", 
                title: "Pemeriksaan Kesehatan Awal (Pre-Employment Medical Check-Up)",
                category: "HRD - Onboarding",
                description: "Prosedur pemeriksaan kesehatan calon karyawan sebelum bergabung.",
                scope: "• Medical examination scheduling\n• Doctor appointment\n• Health report evaluation\n• Medical clearance"
            },
            { 
                code: "SOP-HRD-O002", 
                title: "Pendaftaran & Pengurusan BPJS Ketenagakerjaan dan Kesehatan",
                category: "HRD - Onboarding",
                description: "Prosedur pendaftaran dan administrasi BPJS untuk karyawan baru.",
                scope: "• BPJS registration\n• Document submission\n• Contribution calculation\n• Card distribution"
            },
            { 
                code: "SOP-HRD-O003", 
                title: "Pembuatan Kartu Tanda Karyawan, Email, dan Akses Sistem",
                category: "HRD - Onboarding",
                description: "Prosedur pembuatan identitas dan akses sistem untuk karyawan baru.",
                scope: "• Employee ID card\n• Email account creation\n• System access setup\n• Security clearance"
            },
            { 
                code: "SOP-HRD-O004", 
                title: "Program Orientasi Karyawan Baru (Employee Orientation)",
                category: "HRD - Onboarding",
                description: "Prosedur orientasi dan induksi karyawan baru.",
                scope: "• Company introduction\n• Policy briefing\n• Department orientation\n• Mentor assignment"
            },
            { 
                code: "SOP-HRD-O005", 
                title: "Penandatanganan Perjanjian Kerja (PKWTT/PKWT) dan Pakta Integritas",
                category: "HRD - Onboarding",
                description: "Prosedur penandatanganan kontrak kerja dan dokumen legal lainnya.",
                scope: "• Employment contract signing\n• Integrity pact\n• Confidentiality agreement\n• Document filing"
            },
            { 
                code: "SOP-HRD-O006", 
                title: "Penyerahan dan Pemeriksaan Dokumen Awal Karyawan",
                category: "HRD - Onboarding",
                description: "Prosedur penyerahan dan verifikasi dokumen karyawan.",
                scope: "• Document collection\n• Verification process\n• File creation\n• Database update"
            },
            
            // HRD - Performance (5 items)
            { 
                code: "SOP-HRD-P001", 
                title: "Sosialisasi & Penetapan Key Performance Indicator (KPI)",
                category: "HRD - Performance",
                description: "Prosedur penetapan dan sosialisasi KPI kepada karyawan.",
                scope: "• KPI setting\n• Target determination\n• Communication to employees\n• Documentation"
            },
            { 
                code: "SOP-HRD-P002", 
                title: "Pelaksanaan Penilaian Kinerja (Performance Appraisal)",
                category: "HRD - Performance",
                description: "Prosedur pelaksanaan penilaian kinerja karyawan.",
                scope: "• Performance evaluation\n• Manager assessment\n• Self-assessment\n• Rating calculation"
            },
            { 
                code: "SOP-HRD-P003", 
                title: "Proses Feedback dan Performance Review",
                category: "HRD - Performance",
                description: "Prosedur pemberian feedback dan review kinerja.",
                scope: "• Feedback session\n• Performance discussion\n• Improvement plan\n• Documentation"
            },
            { 
                code: "SOP-HRD-P004", 
                title: "Pembuatan Rencana Pengembangan Karyawan (Individual Development Plan)",
                category: "HRD - Performance",
                description: "Prosedur pembuatan rencana pengembangan individu karyawan.",
                scope: "• Development need analysis\n• Training plan\n• Career path planning\n• Implementation schedule"
            },
            { 
                code: "SOP-HRD-P005", 
                title: "Manajemen Talenta & Suksesi (Talent & Succession Management)",
                category: "HRD - Performance",
                description: "Prosedur manajemen talenta dan perencanaan suksesi.",
                scope: "• Talent identification\n• Succession planning\n• Development program\n• Monitoring progress"
            },
            
            // HRD - Training (5 items)
            { 
                code: "SOP-HRD-T001", 
                title: "Identifikasi Kebutuhan Pelatihan (Training Needs Analysis)",
                category: "HRD - Training",
                description: "Prosedur analisis kebutuhan pelatihan karyawan.",
                scope: "• Training need assessment\n• Skill gap analysis\n• Priority setting\n• Budget planning"
            },
            { 
                code: "SOP-HRD-T002", 
                title: "Perencanaan & Penganggaran Program Pelatihan",
                category: "HRD - Training",
                description: "Prosedur perencanaan dan penganggaran program pelatihan.",
                scope: "• Training program planning\n• Budget allocation\n• Vendor selection\n• Schedule arrangement"
            },
            { 
                code: "SOP-HRD-T003", 
                title: "Pelaksanaan Program Pelatihan (Internal/Eksternal)",
                category: "HRD - Training",
                description: "Prosedur pelaksanaan program pelatihan internal dan eksternal.",
                scope: "• Training implementation\n• Participant management\n• Facility preparation\n• Material distribution"
            },
            { 
                code: "SOP-HRD-T004", 
                title: "Evaluasi & Tindak Lanjut Hasil Pelatihan",
                category: "HRD - Training",
                description: "Prosedur evaluasi efektivitas pelatihan dan tindak lanjut.",
                scope: "• Training evaluation\n• ROI calculation\n• Follow-up action\n• Report preparation"
            },
            { 
                code: "SOP-HRD-T005", 
                title: "Pengelolaan Database Pelatihan dan Sertifikasi Karyawan",
                category: "HRD - Training",
                description: "Prosedur pengelolaan database pelatihan dan sertifikasi.",
                scope: "• Training record management\n• Certification tracking\n• Expiry monitoring\n• Report generation"
            },
            
            // HRD - Compensation & Benefit (6 items)
            { 
                code: "SOP-HRD-CB001", 
                title: "Perhitungan & Penggajian (Payroll Processing)",
                category: "HRD - Compensation",
                description: "Prosedur perhitungan dan proses penggajian karyawan.",
                scope: "• Salary calculation\n• Deduction processing\n• Tax calculation\n• Bank transfer"
            },
            { 
                code: "SOP-HRD-CB002", 
                title: "Penghitungan & Pembayaran Tunjangan Hari Raya (THR)",
                category: "HRD - Compensation",
                description: "Prosedur penghitungan dan pembayaran THR.",
                scope: "• THR calculation\n• Eligibility verification\n• Payment processing\n• Tax calculation"
            },
            { 
                code: "SOP-HRD-CB003", 
                title: "Penghitungan & Pembayaran Bonus Tahunan",
                category: "HRD - Compensation",
                description: "Prosedur penghitungan dan pembayaran bonus tahunan.",
                scope: "• Bonus calculation\n• Performance consideration\n• Approval process\n• Payment processing"
            },
            { 
                code: "SOP-HRD-CB004", 
                title: "Pengajuan & Pencairan Klaim Medical",
                category: "HRD - Compensation",
                description: "Prosedur pengajuan dan pencairan klaim medical karyawan.",
                scope: "• Claim submission\n• Document verification\n• Approval process\n• Reimbursement"
            },
            { 
                code: "SOP-HRD-CB005", 
                title: "Administrasi Pesangon (Pension & Severance Pay)",
                category: "HRD - Compensation",
                description: "Prosedur administrasi pembayaran pesangon.",
                scope: "• Severance calculation\n• Legal compliance\n• Document preparation\n• Payment processing"
            },
            { 
                code: "SOP-HRD-CB006", 
                title: "Administrasi Pinjaman Karyawan (Employee Loan)",
                category: "HRD - Compensation",
                description: "Prosedur administrasi pinjaman karyawan.",
                scope: "• Loan application\n• Approval process\n• Disbursement\n• Deduction setup"
            },
            
            // HRD - Employee Relations (9 items)
            { 
                code: "SOP-HRD-ER001", 
                title: "Pengelolaan Data & Administrasi Karyawan (Master File)",
                category: "HRD - Employee Relations",
                description: "Prosedur pengelolaan data dan administrasi karyawan.",
                scope: "• Employee data management\n• File maintenance\n• Update processing\n• Confidentiality"
            },
            { 
                code: "SOP-HRD-ER002", 
                title: "Proses Mutasi, Promosi, dan Demosi",
                category: "HRD - Employee Relations",
                description: "Prosedur mutasi, promosi, dan demosi karyawan.",
                scope: "• Transfer process\n• Promotion procedure\n• Demotion handling\n• Documentation"
            },
            { 
                code: "SOP-HRD-ER003", 
                title: "Pengajuan & Persetujuan Cuti (Annual Leave, Sick Leave, dll.)",
                category: "HRD - Employee Relations",
                description: "Prosedur pengajuan dan persetujuan cuti karyawan.",
                scope: "• Leave application\n• Approval workflow\n• Balance tracking\n• Record keeping"
            },
            { 
                code: "SOP-HRD-ER004", 
                title: "Pengajuan Lembur (Overtime Request)",
                category: "HRD - Employee Relations",
                description: "Prosedur pengajuan dan persetujuan lembur.",
                scope: "• Overtime request\n• Approval process\n• Calculation\n• Payment processing"
            },
            { 
                code: "SOP-HRD-ER005", 
                title: "Penanganan Pelanggaran Disiplin & Pemberian Sanksi",
                category: "HRD - Employee Relations",
                description: "Prosedur penanganan pelanggaran disiplin dan pemberian sanksi.",
                scope: "• Violation investigation\n• Disciplinary action\n• Warning letter\n• Appeal process"
            },
            { 
                code: "SOP-HRD-ER006", 
                title: "Penanganan Keluhan & Pengaduan Karyawan (Grievance Handling)",
                category: "HRD - Employee Relations",
                description: "Prosedur penanganan keluhan dan pengaduan karyawan.",
                scope: "• Complaint registration\n• Investigation process\n• Resolution action\n• Follow-up"
            },
            { 
                code: "SOP-HRD-ER007", 
                title: "Proses Pengunduran Diri & Pemberhentian (Resignation & Termination)",
                category: "HRD - Employee Relations",
                description: "Prosedur pengunduran diri dan pemberhentian karyawan.",
                scope: "• Resignation process\n• Termination procedure\n• Exit clearance\n• Final payment"
            },
            { 
                code: "SOP-HRD-ER008", 
                title: "Pelaksanaan Exit Interview",
                category: "HRD - Employee Relations",
                description: "Prosedur pelaksanaan exit interview.",
                scope: "• Interview scheduling\n• Question preparation\n• Feedback collection\n• Report preparation"
            },
            { 
                code: "SOP-HRD-ER009", 
                title: "Administrasi Dinas Luar (Business Trip)",
                category: "HRD - Employee Relations",
                description: "Prosedur administrasi dinas luar karyawan.",
                scope: "• Travel request\n• Approval process\n• Expense claim\n• Report submission"
            },
            
            // HRD General (2 items)
            { 
                code: "SOP-HRD-GEN001", 
                title: "Rekrutmen Karyawan Baru",
                category: "HRD - Recruitment",
                description: "Prosedur lengkap rekrutmen karyawan baru dari awal hingga akhir.",
                scope: "• Manpower planning\n• Job posting\n• Screening & interview\n• Onboarding process"
            },
            { 
                code: "SOP-HRD-GEN002", 
                title: "Pengajuan Cuti Karyawan",
                category: "HRD - Employee Relations",
                description: "Prosedur pengajuan, persetujuan, dan pencatatan cuti karyawan.",
                scope: "• Leave application\n• Approval workflow\n• Balance tracking\n• Documentation"
            },
            
            // GA - Facilities (7 items)
            { 
                code: "SOP-GA-F001", 
                title: "Perawatan & Pemeliharaan Gedung dan Kantor",
                category: "GA - Facilities",
                description: "Prosedur perawatan dan pemeliharaan fasilitas gedung dan kantor.",
                scope: "• Building maintenance\n• Office equipment\n• Preventive maintenance\n• Repair scheduling"
            },
            { 
                code: "SOP-GA-F002", 
                title: "Pengelolaan & Perawatan Kendaraan Perusahaan (Pool)",
                category: "GA - Facilities",
                description: "Prosedur pengelolaan dan perawatan kendaraan perusahaan.",
                scope: "• Vehicle maintenance\n• Service scheduling\n• Fuel management\n• Driver assignment"
            },
            { 
                code: "SOP-GA-F003", 
                title: "Pengajuan & Penggunaan Kendaraan Operasional",
                category: "GA - Facilities",
                description: "Prosedur pengajuan dan penggunaan kendaraan operasional.",
                scope: "• Vehicle request\n• Approval process\n• Usage logging\n• Return procedure"
            },
            { 
                code: "SOP-GA-F004", 
                title: "Manajemen Pengadaan & Pemeliharaan AC",
                category: "GA - Facilities",
                description: "Prosedur pengadaan dan pemeliharaan AC.",
                scope: "• AC procurement\n• Maintenance scheduling\n• Repair service\n• Vendor management"
            },
            { 
                code: "SOP-GA-F005", 
                title: "Manajemen Keamanan Gedung dan Area Parkir",
                category: "GA - Facilities",
                description: "Prosedur manajemen keamanan gedung dan area parkir.",
                scope: "• Security management\n• Parking area control\n• Access control\n• Incident handling"
            },
            { 
                code: "SOP-GA-F006", 
                title: "Manajemen Kebersihan dan Housekeeping",
                category: "GA - Facilities",
                description: "Prosedur manajemen kebersihan dan housekeeping.",
                scope: "• Cleaning schedule\n• Housekeeping service\n• Waste management\n• Quality control"
            },
            { 
                code: "SOP-GA-F007", 
                title: "Pengelolaan Limbah Kantor",
                category: "GA - Facilities",
                description: "Prosedur pengelolaan limbah kantor.",
                scope: "• Waste collection\n• Recycling process\n• Disposal procedure\n• Environmental compliance"
            },
            
            // GA - Asset Management (6 items)
            { 
                code: "SOP-GA-A001", 
                title: "Pengadaan & Penerimaan Aset/Inventaris",
                category: "GA - Asset Management",
                description: "Prosedur pengadaan dan penerimaan aset/inventaris.",
                scope: "• Asset procurement\n• Goods receiving\n• Quality check\n• Asset tagging"
            },
            { 
                code: "SOP-GA-A002", 
                title: "Pencatatan & Penomoran Aset/Inventaris",
                category: "GA - Asset Management",
                description: "Prosedur pencatatan dan penomoran aset/inventaris.",
                scope: "• Asset registration\n• Numbering system\n• Database update\n• Labeling"
            },
            { 
                code: "SOP-GA-A003", 
                title: "Pemeliharaan & Kalibrasi Aset (contoh: forklift, timbangan)",
                category: "GA - Asset Management",
                description: "Prosedur pemeliharaan dan kalibrasi aset.",
                scope: "• Maintenance scheduling\n• Calibration service\n• Repair process\n• Certification"
            },
            { 
                code: "SOP-GA-A004", 
                title: "Sirkulasi & Peminjaman Aset/Inventaris",
                category: "GA - Asset Management",
                description: "Prosedur sirkulasi dan peminjaman aset/inventaris.",
                scope: "• Asset borrowing\n• Circulation tracking\n• Return procedure\n• Condition check"
            },
            { 
                code: "SOP-GA-A005", 
                title: "Stock Opname & Audit Aset/Inventaris",
                category: "GA - Asset Management",
                description: "Prosedur stock opname dan audit aset/inventaris.",
                scope: "• Physical counting\n• Asset verification\n• Variance analysis\n• Report preparation"
            },
            { 
                code: "SOP-GA-A006", 
                title: "Pemusnahan & Penghapusan Aset/Inventaris",
                category: "GA - Asset Management",
                description: "Prosedur pemusnahan dan penghapusan aset/inventaris.",
                scope: "• Asset disposal\n• Approval process\n• Destruction procedure\n• Documentation"
            },
            
            // GA - Operations (6 items)
            { 
                code: "SOP-GA-O001", 
                title: "Pengadaan Barang & Jasa Non-Inventaris (ATK, dll.)",
                category: "GA - Operations",
                description: "Prosedur pengadaan barang dan jasa non-inventaris.",
                scope: "• Stationery procurement\n• Service procurement\n• Vendor selection\n• Quality control"
            },
            { 
                code: "SOP-GA-O002", 
                title: "Manajemen Pengeluaran Kas Kecil (Petty Cash)",
                category: "GA - Operations",
                description: "Prosedur manajemen pengeluaran kas kecil.",
                scope: "• Petty cash management\n• Disbursement process\n• Replenishment\n• Reconciliation"
            },
            { 
                code: "SOP-GA-O003", 
                title: "Pengelolaan Konsumsi & Catering untuk Meeting/Rapat",
                category: "GA - Operations",
                description: "Prosedur pengelolaan konsumsi dan catering untuk meeting.",
                scope: "• Catering arrangement\n• Meeting setup\n• Food service\n• Cleanup procedure"
            },
            { 
                code: "SOP-GA-O004", 
                title: "Pengurusan Perizinan Perusahaan (IMB, SIUP, dll.)",
                category: "GA - Operations",
                description: "Prosedur pengurusan perizinan perusahaan.",
                scope: "• License application\n• Document preparation\n• Government liaison\n• Renewal process"
            },
            { 
                code: "SOP-GA-O005", 
                title: "Manajemen Dokumen & Arsip Perusahaan",
                category: "GA - Operations",
                description: "Prosedur manajemen dokumen dan arsip perusahaan.",
                scope: "• Document filing\n• Archive management\n• Retrieval process\n• Destruction procedure"
            },
            { 
                code: "SOP-GA-O006", 
                title: "Penanganan Keadaan Darurat (Kebakaran, Kecelakaan, dll.)",
                category: "GA - Operations",
                description: "Prosedur penanganan keadaan darurat.",
                scope: "• Emergency response\n• Evacuation procedure\n• First aid\n• Incident reporting"
            },
            
            // GA - IT (4 items)
            { 
                code: "SOP-GA-IT001", 
                title: "Pengajuan & Perbaikan Gangguan IT (Hardware & Software)",
                category: "GA - IT",
                description: "Prosedur pengajuan dan perbaikan gangguan IT.",
                scope: "• IT support request\n• Trouble ticket\n• Repair process\n• Resolution follow-up"
            },
            { 
                code: "SOP-GA-IT002", 
                title: "Pemberian & Penonaktifan Akun serta Akses Sistem",
                category: "GA - IT",
                description: "Prosedur pemberian dan penonaktifan akun sistem.",
                scope: "• Account creation\n• Access provisioning\n• Account deactivation\n• Security audit"
            },
            { 
                code: "SOP-GA-IT003", 
                title: "Backup Data & Pemulihan Bencana (Data Recovery)",
                category: "GA - IT",
                description: "Prosedur backup data dan pemulihan bencana.",
                scope: "• Data backup\n• Recovery procedure\n• Disaster planning\n• Testing schedule"
            },
            { 
                code: "SOP-GA-IT004", 
                title: "Keamanan Siber & Penggunaan Sistem secara Aman",
                category: "GA - IT",
                description: "Prosedur keamanan siber dan penggunaan sistem.",
                scope: "• Cybersecurity protocol\n• System usage policy\n• Security training\n• Threat monitoring"
            },
            
            // Finance & Accounting - Accounting (8 items)
            { 
                code: "SOP-FA-ACT001", 
                title: "Pencatatan Transaksi Penjualan (Cash & Credit)",
                category: "Finance & Accounting",
                description: "Prosedur pencatatan transaksi penjualan tunai dan kredit.",
                scope: "• Sales recording\n• Invoice generation\n• Payment posting\n• Revenue recognition"
            },
            { 
                code: "SOP-FA-ACT002", 
                title: "Pencatatan Transaksi Pembelian (Inventory & Fixed Assets)",
                category: "Finance & Accounting",
                description: "Prosedur pencatatan transaksi pembelian.",
                scope: "• Purchase recording\n• Asset capitalization\n• Inventory posting\n• Account payable"
            },
            { 
                code: "SOP-FA-ACT003", 
                title: "Pencatatan Transaksi Kas & Bank (Setoran & Penarikan)",
                category: "Finance & Accounting",
                description: "Prosedur pencatatan transaksi kas dan bank.",
                scope: "• Cash transaction\n• Bank deposit\n• Withdrawal process\n• Reconciliation"
            },
            { 
                code: "SOP-FA-ACT004", 
                title: "Pencatatan Transaksi Biaya Operasional (Opex)",
                category: "Finance & Accounting",
                description: "Prosedur pencatatan transaksi biaya operasional.",
                scope: "• Expense recording\n• Cost allocation\n• Budget monitoring\n• Approval workflow"
            },
            { 
                code: "SOP-FA-ACT005", 
                title: "Pencatatan & Penyusutan Aset Tetap (Fixed Asset Depreciation)",
                category: "Finance & Accounting",
                description: "Prosedur pencatatan dan penyusutan aset tetap.",
                scope: "• Asset recording\n• Depreciation calculation\n• Book value update\n• Asset disposal"
            },
            { 
                code: "SOP-FA-ACT006", 
                title: "Pencatatan & Amortisasi Aset Tidak Berwujud",
                category: "Finance & Accounting",
                description: "Prosedur pencatatan dan amortisasi aset tidak berwujud.",
                scope: "• Intangible asset recording\n• Amortization calculation\n• Impairment testing\n• Disclosure requirements"
            },
            { 
                code: "SOP-FA-ACT007", 
                title: "Proses Akrual & Deferral Jurnal Penyesuaian (Adjusting Entries)",
                category: "Finance & Accounting",
                description: "Prosedur pembuatan jurnal penyesuaian akrual dan deferral.",
                scope: "• Accrual entries\n• Deferral entries\n• Month-end adjustments\n• Financial statement preparation"
            },
            { 
                code: "SOP-FA-ACT008", 
                title: "Rekonsiliasi Transaksi Antar Perusahaan (Intercompany)",
                category: "Finance & Accounting",
                description: "Prosedur rekonsiliasi transaksi antar perusahaan dalam grup.",
                scope: "• Intercompany transaction recording\n• Reconciliation process\n• Elimination entries\n• Consolidation reporting"
            },
            
            // Finance & Accounting - General Ledger (8 items)
            { 
                code: "SOP-FA-GL001", 
                title: "Penutupan Buku Bulanan (Monthly Closing)",
                category: "Finance & Accounting",
                description: "Prosedur penutupan buku dan laporan keuangan bulanan.",
                scope: "• Closing checklist\n• Account reconciliation\n• Financial statement preparation\n• Management reporting"
            },
            { 
                code: "SOP-FA-GL002", 
                title: "Penutupan Buku Tahunan (Year-End Closing)",
                category: "Finance & Accounting",
                description: "Prosedur penutupan buku dan laporan keuangan tahunan.",
                scope: "• Annual closing procedures\n• Financial audit preparation\n• Tax reporting\n• Annual report preparation"
            },
            { 
                code: "SOP-FA-GL003", 
                title: "Penyusunan Laporan Laba Rugi (Income Statement)",
                category: "Finance & Accounting",
                description: "Prosedur penyusunan laporan laba rugi.",
                scope: "• Revenue recognition\n• Expense classification\n• Profit calculation\n• Variance analysis"
            },
            { 
                code: "SOP-FA-GL004", 
                title: "Penyusunan Laporan Posisi Keuangan (Balance Sheet)",
                category: "Finance & Accounting",
                description: "Prosedur penyusunan laporan posisi keuangan.",
                scope: "• Asset classification\n• Liability recognition\n• Equity calculation\n• Financial position analysis"
            },
            { 
                code: "SOP-FA-GL005", 
                title: "Penyusunan Laporan Arus Kas (Cash Flow Statement)",
                category: "Finance & Accounting",
                description: "Prosedur penyusunan laporan arus kas.",
                scope: "• Operating activities\n• Investing activities\n• Financing activities\n• Cash flow analysis"
            },
            { 
                code: "SOP-FA-GL006", 
                title: "Rekonsiliasi Bank (Bank Reconciliation)",
                category: "Finance & Accounting",
                description: "Prosedur rekonsiliasi bank.",
                scope: "• Bank statement reconciliation\n• Outstanding check identification\n• Deposit in transit\n• Adjustment entries"
            },
            { 
                code: "SOP-FA-GL007", 
                title: "Rekonsiliasi Buku Besar (General Ledger Reconciliation)",
                category: "Finance & Accounting",
                description: "Prosedur rekonsiliasi buku besar.",
                scope: "• GL account reconciliation\n• Subsidiary ledger verification\n• Account analysis\n• Adjustment processing"
            },
            { 
                code: "SOP-FA-GL008", 
                title: "Penyusunan Laporan Keuangan Internal Manajemen (Management Report)",
                category: "Finance & Accounting",
                description: "Prosedur penyusunan laporan keuangan untuk manajemen.",
                scope: "• Management reporting requirements\n• KPI reporting\n• Budget vs actual analysis\n• Performance dashboard"
            },
            
            // Finance & Accounting - Tax (7 items)
            { 
                code: "SOP-FA-TX001", 
                title: "Perhitungan, Penyetoran, dan Pelaporan PPN (VAT)",
                category: "Finance & Accounting",
                description: "Prosedur perhitungan, penyetoran, dan pelaporan PPN.",
                scope: "• VAT calculation\n• Tax payment\n• Tax return preparation\n• Compliance monitoring"
            },
            { 
                code: "SOP-FA-TX002", 
                title: "Perhitungan, Penyetoran, dan Pelaporan PPh 21 (Employee Income Tax)",
                category: "Finance & Accounting",
                description: "Prosedur perhitungan, penyetoran, dan pelaporan PPh 21.",
                scope: "• Employee tax calculation\n• Tax deduction at source\n• Tax payment\n• Annual tax reporting"
            },
            { 
                code: "SOP-FA-TX003", 
                title: "Perhitungan, Penyetoran, dan Pelaporan PPh 23 (Withholding Tax on Services)",
                category: "Finance & Accounting",
                description: "Prosedur perhitungan, penyetoran, dan pelaporan PPh 23.",
                scope: "• Withholding tax calculation\n• Vendor payment processing\n• Tax certificate issuance\n• Compliance reporting"
            },
            { 
                code: "SOP-FA-TX004", 
                title: "Perhitungan, Penyetoran, dan Pelaporan PPh 4(2) (Final Tax on Rent)",
                category: "Finance & Accounting",
                description: "Prosedur perhitungan, penyetoran, dan pelaporan PPh 4(2).",
                scope: "• Final tax calculation\n• Rental payment processing\n• Tax payment\n• Compliance documentation"
            },
            { 
                code: "SOP-FA-TX005", 
                title: "Perhitungan & Pelaporan PPh Badan (Corporate Income Tax)",
                category: "Finance & Accounting",
                description: "Prosedur perhitungan dan pelaporan PPh badan.",
                scope: "• Corporate tax calculation\n• Tax planning\n• Tax return preparation\n• Audit support"
            },
            { 
                code: "SOP-FA-TX006", 
                title: "Administrasi Dokumen e-Faktur (Keluaran & Masukan)",
                category: "Finance & Accounting",
                description: "Prosedur administrasi dokumen e-Faktur.",
                scope: "• e-Faktur generation\n• e-Faktur verification\n• Document filing\n• Compliance monitoring"
            },
            { 
                code: "SOP-FA-TX007", 
                title: "Proses Audit & Pemeriksaan Pajak (Tax Audit)",
                category: "Finance & Accounting",
                description: "Prosedur menghadapi audit dan pemeriksaan pajak.",
                scope: "• Audit preparation\n• Document submission\n• Tax officer coordination\n• Dispute resolution"
            },
            
            // Finance & Accounting - Treasury (6 items)
            { 
                code: "SOP-FA-TRY001", 
                title: "Peramalan & Manajemen Arus Kas (Cash Flow Forecasting)",
                category: "Finance & Accounting",
                description: "Prosedur peramalan dan manajemen arus kas.",
                scope: "• Cash flow projection\n• Working capital management\n• Liquidity planning\n• Investment decision"
            },
            { 
                code: "SOP-FA-TRY002", 
                title: "Pengelolaan Transfer dan Setoran Bank",
                category: "Finance & Accounting",
                description: "Prosedur pengelolaan transfer dan setoran bank.",
                scope: "• Bank transfer processing\n• Deposit handling\n• Transaction verification\n• Reconciliation"
            },
            { 
                code: "SOP-FA-TRY003", 
                title: "Pengajuan & Pencairan Dana (Fund Disbursement)",
                category: "Finance & Accounting",
                description: "Prosedur pengajuan dan pencairan dana.",
                scope: "• Fund request\n• Approval process\n• Disbursement execution\n• Documentation"
            },
            { 
                code: "SOP-FA-TRY004", 
                title: "Manajemen Investasi Likuid Jangka Pendek (Short Term Investment)",
                category: "Finance & Accounting",
                description: "Prosedur manajemen investasi likuid jangka pendek.",
                scope: "• Investment planning\n• Risk assessment\n• Transaction execution\n• Performance monitoring"
            },
            { 
                code: "SOP-FA-TRY005", 
                title: "Pengelolaan Kartu Kredit Perusahaan (Corporate Credit Card)",
                category: "Finance & Accounting",
                description: "Prosedur pengelolaan kartu kredit perusahaan.",
                scope: "• Credit card issuance\n• Expense tracking\n• Payment processing\n• Reconciliation"
            },
            { 
                code: "SOP-FA-TRY006", 
                title: "Proses Pengajuan & Administrasi Pinjaman/Kredit Bank",
                category: "Finance & Accounting",
                description: "Prosedur pengajuan dan administrasi pinjaman/kredit bank.",
                scope: "• Loan application\n• Document preparation\n• Bank negotiation\n• Loan servicing"
            },
            
            // Finance & Accounting - Accounts Payable (6 items)
            { 
                code: "SOP-FA-AP001", 
                title: "Verifikasi & Pencocokan Faktur Pembelian (3-Way Matching: PO, GR, Invoice)",
                category: "Finance & Accounting",
                description: "Prosedur verifikasi dan pencocokan faktur pembelian.",
                scope: "• Purchase order verification\n• Goods receipt matching\n• Invoice validation\n• Payment approval"
            },
            { 
                code: "SOP-FA-AP002", 
                title: "Pengajuan & Persetujuan Pembayaran ke Supplier/Pemasok",
                category: "Finance & Accounting",
                description: "Prosedur pengajuan dan persetujuan pembayaran ke supplier.",
                scope: "• Payment request\n• Approval workflow\n• Document verification\n• Payment scheduling"
            },
            { 
                code: "SOP-FA-AP003", 
                title: "Pembayaran dengan Cek, Transfer, atau GIRO",
                category: "Finance & Accounting",
                description: "Prosedur pembayaran dengan berbagai metode pembayaran.",
                scope: "• Payment method selection\n• Check issuance\n• Bank transfer\n• Payment confirmation"
            },
            { 
                code: "SOP-FA-AP004", 
                title: "Penanganan Faktur Pajak Masukan (Input VAT)",
                category: "Finance & Accounting",
                description: "Prosedur penanganan faktur pajak masukan.",
                scope: "• Input VAT verification\n• Tax credit calculation\n• Document filing\n• Compliance reporting"
            },
            { 
                code: "SOP-FA-AP005", 
                title: "Rekonsiliasi Hutang Usaha (Accounts Payable Reconciliation)",
                category: "Finance & Accounting",
                description: "Prosedur rekonsiliasi hutang usaha.",
                scope: "• AP aging analysis\n• Vendor statement reconciliation\n• Discrepancy resolution\n• Account verification"
            },
            { 
                code: "SOP-FA-AP006", 
                title: "Pengelolaan Utang Lancar Lainnya (Other Current Liabilities)",
                category: "Finance & Accounting",
                description: "Prosedur pengelolaan utang lancar lainnya.",
                scope: "• Liability recognition\n• Payment scheduling\n• Accrual calculation\n• Financial reporting"
            },
            
            // Finance & Accounting - Accounts Receivable (7 items)
            { 
                code: "SOP-FA-AR001", 
                title: "Penagihan Piutang Usaha (Customer Collection)",
                category: "Finance & Accounting",
                description: "Prosedur penagihan piutang usaha.",
                scope: "• Collection strategy\n• Customer follow-up\n• Payment reminder\n• Dispute resolution"
            },
            { 
                code: "SOP-FA-AR002", 
                title: "Penerimaan & Pencatatan Pembayaran dari Pelanggan (Cash/Transfer)",
                category: "Finance & Accounting",
                description: "Prosedur penerimaan dan pencatatan pembayaran dari pelanggan.",
                scope: "• Payment receipt\n• Cash handling\n• Bank deposit\n• Account posting"
            },
            { 
                code: "SOP-FA-AR003", 
                title: "Pemberian & Review Limit Kredit Pelanggan (Credit Limit Review)",
                category: "Finance & Accounting",
                description: "Prosedur pemberian dan review limit kredit pelanggan.",
                scope: "• Credit application\n• Customer credit assessment\n• Limit approval\n• Periodic review"
            },
            { 
                code: "SOP-FA-AR004", 
                title: "Monitoring Usia Piutang (Accounts Receivable Aging Analysis)",
                category: "Finance & Accounting",
                description: "Prosedur monitoring usia piutang.",
                scope: "• Aging report preparation\n• Collection prioritization\n• Bad debt provision\n• Performance analysis"
            },
            { 
                code: "SOP-FA-AR005", 
                title: "Penanganan Cek & GIRO Tagih",
                category: "Finance & Accounting",
                description: "Prosedur penanganan cek dan GIRO tagih.",
                scope: "• Check receipt\n• Check validation\n• Bank deposit\n• Dishonored check handling"
            },
            { 
                code: "SOP-FA-AR006", 
                title: "Proses Penghapusan Piutang Tak Tertagih (Bad Debt Write-Off)",
                category: "Finance & Accounting",
                description: "Prosedur penghapusan piutang tak tertagih.",
                scope: "• Bad debt identification\n• Write-off approval\n• Accounting treatment\n• Tax implications"
            },
            { 
                code: "SOP-FA-AR007", 
                title: "Rekonsiliasi Piutang Usaha (Accounts Receivable Reconciliation)",
                category: "Finance & Accounting",
                description: "Prosedur rekonsiliasi piutang usaha.",
                scope: "• Customer statement reconciliation\n• Account verification\n• Discrepancy resolution\n• Aging confirmation"
            },
            
            // Finance & Accounting - Budgeting (4 items)
            { 
                code: "SOP-FA-BUD001", 
                title: "Penyusunan Rencana Anggaran Perusahaan (Annual Budgeting)",
                category: "Finance & Accounting",
                description: "Prosedur penyusunan rencana anggaran perusahaan.",
                scope: "• Budget planning\n• Departmental budgeting\n• Capital budgeting\n• Budget approval"
            },
            { 
                code: "SOP-FA-BUD002", 
                title: "Pengawasan & Monitoring Realisasi vs Anggaran (Budget vs Actual)",
                category: "Finance & Accounting",
                description: "Prosedur pengawasan dan monitoring realisasi vs anggaran.",
                scope: "• Budget variance analysis\n• Performance monitoring\n• Cost control\n• Reporting"
            },
            { 
                code: "SOP-FA-BUD003", 
                title: "Proses Revisi & Perubahan Anggaran (Budget Revision)",
                category: "Finance & Accounting",
                description: "Prosedur revisi dan perubahan anggaran.",
                scope: "• Budget adjustment request\n• Approval process\n• System update\n• Communication"
            },
            { 
                code: "SOP-FA-BUD004", 
                title: "Analisis Varians Anggaran (Budget Variance Analysis)",
                category: "Finance & Accounting",
                description: "Prosedur analisis varians anggaran.",
                scope: "• Variance calculation\n• Root cause analysis\n• Corrective action\n• Management reporting"
            },
            
            // Finance & Accounting - Costing (5 items)
            { 
                code: "SOP-FA-CST001", 
                title: "Perhitungan & Pencatatan Harga Pokok Penjualan (HPP/COGS)",
                category: "Finance & Accounting",
                description: "Prosedur perhitungan dan pencatatan harga pokok penjualan.",
                scope: "• Cost calculation\n• Inventory valuation\n• COGS recognition\n• Margin analysis"
            },
            { 
                code: "SOP-FA-CST002", 
                title: "Alokasi & Perhitungan Biaya Overhead",
                category: "Finance & Accounting",
                description: "Prosedur alokasi dan perhitungan biaya overhead.",
                scope: "• Overhead allocation\n• Cost driver identification\n• Departmental costing\n• Activity-based costing"
            },
            { 
                code: "SOP-FA-CST003", 
                title: "Penilaian & Pencatatan Persediaan Barang (Inventory Valuation - FIFO, Average)",
                category: "Finance & Accounting",
                description: "Prosedur penilaian dan pencatatan persediaan barang.",
                scope: "• Inventory valuation method\n• Cost flow assumption\n• Stock valuation\n• Financial reporting"
            },
            { 
                code: "SOP-FA-CST004", 
                title: "Proses Stock Opname & Penyesuaian Persediaan (Stock Adjustment)",
                category: "Finance & Accounting",
                description: "Prosedur stock opname dan penyesuaian persediaan.",
                scope: "• Physical counting\n• Stock adjustment\n• Variance analysis\n• Accounting entries"
            },
            { 
                code: "SOP-FA-CST005", 
                title: "Analisis Margin & Profitabilitas per Produk/Kategori",
                category: "Finance & Accounting",
                description: "Prosedur analisis margin dan profitabilitas per produk/kategori.",
                scope: "• Product profitability analysis\n• Margin calculation\n• Performance benchmarking\n• Decision support"
            },
            
            // Finance & Accounting - Internal Control (6 items)
            { 
                code: "SOP-FA-IC001", 
                title: "Pengendalian & Rekonsiliasi Kas di Kasir (Cashier Float)",
                category: "Finance & Accounting",
                description: "Prosedur pengendalian dan rekonsiliasi kas di kasir.",
                scope: "• Cash float management\n• Daily reconciliation\n• Cash handling procedures\n• Security measures"
            },
            { 
                code: "SOP-FA-IC002", 
                title: "Pengelolaan & Pengawasan Cek dan GIRO Kosong",
                category: "Finance & Accounting",
                description: "Prosedur pengelolaan dan pengawasan cek dan GIRO kosong.",
                scope: "• Blank check control\n• Check issuance authorization\n• Security storage\n• Usage tracking"
            },
            { 
                code: "SOP-FA-IC003", 
                title: "Pengesahan & Otorisasi Transaksi Keuangan (Authorization Matrix)",
                category: "Finance & Accounting",
                description: "Prosedur pengesahan dan otorisasi transaksi keuangan.",
                scope: "• Authorization levels\n• Approval workflow\n• Document verification\n• Compliance monitoring"
            },
            { 
                code: "SOP-FA-IC004", 
                title: "Pemantauan & Pengawasan Pengeluaran Biaya (Expense Control)",
                category: "Finance & Accounting",
                description: "Prosedur pemantauan dan pengawasan pengeluaran biaya.",
                scope: "• Expense approval\n• Budget compliance\n• Policy enforcement\n• Fraud prevention"
            },
            { 
                code: "SOP-FA-IC005", 
                title: "Siklus Pembelian hingga Pembayaran (Procure-to-Pay Cycle)",
                category: "Finance & Accounting",
                description: "Prosedur siklus pembelian hingga pembayaran.",
                scope: "• Purchase requisition\n• PO approval\n• Goods receipt\n• Invoice payment"
            },
            { 
                code: "SOP-FA-IC006", 
                title: "Siklus Penjualan hingga Penerimaan Kas (Order-to-Cash Cycle)",
                category: "Finance & Accounting",
                description: "Prosedur siklus penjualan hingga penerimaan kas.",
                scope: "• Sales order processing\n• Delivery\n• Invoicing\n• Cash collection"
            },
            
            // Finance & Accounting - Internal Audit (3 items)
            { 
                code: "SOP-FA-IA001", 
                title: "Perencanaan & Pelaksanaan Audit Internal Rutin",
                category: "Finance & Accounting",
                description: "Prosedur perencanaan dan pelaksanaan audit internal rutin.",
                scope: "• Audit planning\n• Risk assessment\n• Fieldwork execution\n• Reporting"
            },
            { 
                code: "SOP-FA-IA002", 
                title: "Proses Investigasi Kecurangan (Fraud Investigation)",
                category: "Finance & Accounting",
                description: "Prosedur investigasi kecurangan.",
                scope: "• Fraud detection\n• Evidence collection\n• Investigation procedures\n• Reporting and action"
            },
            { 
                code: "SOP-FA-IA003", 
                title: "Penyusunan Laporan Temuan Audit & Tindak Lanjut",
                category: "Finance & Accounting",
                description: "Prosedur penyusunan laporan temuan audit dan tindak lanjut.",
                scope: "• Audit report preparation\n• Finding communication\n• Action plan development\n• Follow-up monitoring"
            },
            
            // Finance & Accounting General (2 items)
            { 
                code: "SOP-FA-GEN001", 
                title: "Cash Before Delivery (CBD)",
                category: "Finance & Accounting",
                description: "Prosedur transaksi dengan pembayaran tunai sebelum pengiriman barang.",
                scope: "• Payment verification\n• Order processing\n• Delivery scheduling\n• Documentation"
            },
            { 
                code: "SOP-FA-GEN002", 
                title: "Pembayaran Tunai Barang Dagangan",
                category: "Finance & Accounting",
                description: "Prosedur pembayaran tunai untuk pembelian barang dagangan.",
                scope: "• Cash payment processing\n• Receipt issuance\n• Inventory update\n• Accounting entries"
            },
            
            // Store Operations - Management (7 items)
            { 
                code: "SOP-STORE-MGT001", 
                title: "Pembukaan Toko (Store Opening)",
                category: "Store Operations",
                description: "Prosedur pembukaan toko di pagi hari.",
                scope: "• Store opening checklist\n• Cash register setup\n• Security check\n• Staff briefing"
            },
            { 
                code: "SOP-STORE-MGT002", 
                title: "Penutupan Toko (Store Closing)",
                category: "Store Operations",
                description: "Prosedur penutupan toko di malam hari.",
                scope: "• Closing checklist\n• Cash counting\n• Security procedure\n• Store lockup"
            },
            { 
                code: "SOP-STORE-MGT003", 
                title: "Pengecekan & Pengawasan Keamanan Toko (Security & Safety Check)",
                category: "Store Operations",
                description: "Prosedur pengecekan keamanan dan keselamatan toko.",
                scope: "• Security inspection\n• Safety check\n• CCTV monitoring\n• Incident reporting"
            },
            { 
                code: "SOP-STORE-MGT004", 
                title: "Rapat Pagi Staf (Morning Briefing)",
                category: "Store Operations",
                description: "Prosedur rapat pagi staff toko.",
                scope: "• Daily briefing\n• Target setting\n• Task assignment\n• Information sharing"
            },
            { 
                code: "SOP-STORE-MGT005", 
                title: "Pengelolaan & Penjadwalan Staf (Staff Scheduling)",
                category: "Store Operations",
                description: "Prosedur pengelolaan dan penjadwalan staff toko.",
                scope: "• Staff scheduling\n• Shift planning\n• Leave management\n• Overtime arrangement"
            },
            { 
                code: "SOP-STORE-MGT006", 
                title: "Laporan Harian Aktivitas Toko (Daily Store Activity Report)",
                category: "Store Operations",
                description: "Prosedur pembuatan laporan harian aktivitas toko.",
                scope: "• Sales reporting\n• Customer traffic\n• Staff performance\n• Incident reporting"
            },
            { 
                code: "SOP-STORE-MGT007", 
                title: "Penanganan Keadaan Darurat di Toko (Emergency Procedure)",
                category: "Store Operations",
                description: "Prosedur penanganan keadaan darurat di toko.",
                scope: "• Emergency response\n• Evacuation procedure\n• First aid\n• Communication protocol"
            },
            
            // Store Operations - Sales (7 items)
            { 
                code: "SOP-STORE-SLS001", 
                title: "Proses Penjualan Tunai (Cash Sales)",
                category: "Store Operations",
                description: "Prosedur proses penjualan tunai.",
                scope: "• Customer service\n• Price quotation\n• Payment processing\n• Receipt issuance"
            },
            { 
                code: "SOP-STORE-SLS002", 
                title: "Proses Penjualan Kredit (Credit Sales)",
                category: "Store Operations",
                description: "Prosedur proses penjualan kredit.",
                scope: "• Credit approval\n• Documentation\n• Delivery arrangement\n• Collection follow-up"
            },
            { 
                code: "SOP-STORE-SLS003", 
                title: "Proses Penjualan dengan Kartu Kredit/Debit",
                category: "Store Operations",
                description: "Prosedur proses penjualan dengan kartu kredit/debit.",
                scope: "• Card verification\n• Transaction processing\n• Receipt handling\n• Reconciliation"
            },
            { 
                code: "SOP-STORE-SLS004", 
                title: "Penerimaan & Pemenuhan Pesanan via Telepon/Online (Phone/Online Order)",
                category: "Store Operations",
                description: "Prosedur penerimaan dan pemenuhan pesanan via telepon/online.",
                scope: "• Order taking\n• Product availability check\n• Price confirmation\n• Delivery coordination"
            },
            { 
                code: "SOP-STORE-SLS005", 
                title: "Teknik Pendekatan & Penjualan kepada Pelanggan (Customer Approach)",
                category: "Store Operations",
                description: "Prosedur teknik pendekatan dan penjualan kepada pelanggan.",
                scope: "• Customer greeting\n• Needs assessment\n• Product recommendation\n• Closing technique"
            },
            { 
                code: "SOP-STORE-SLS006", 
                title: "Proses Pemesanan Barang Indent (Special Order)",
                category: "Store Operations",
                description: "Prosedur proses pemesanan barang indent.",
                scope: "• Special order request\n• Supplier coordination\n• Customer communication\n• Delivery tracking"
            },
            { 
                code: "SOP-STORE-SLS007", 
                title: "Penerbitan & Pengendalian Nota Manual Penjualan (Manual Invoice)",
                category: "Store Operations",
                description: "Prosedur penerbitan dan pengendalian nota manual penjualan.",
                scope: "• Manual invoice issuance\n• Numbering control\n• Record keeping\n• Reconciliation"
            },
            
            // Store Operations - Customer Service (4 items)
            { 
                code: "SOP-STORE-CS001", 
                title: "Proses Penanganan Keluhan Pelanggan (Customer Complaint Handling)",
                category: "Store Operations",
                description: "Prosedur penanganan keluhan pelanggan.",
                scope: "• Complaint reception\n• Investigation\n• Resolution action\n• Follow-up"
            },
            { 
                code: "SOP-STORE-CS002", 
                title: "Proses Pengembalian & Penukaran Barang (Return & Exchange Goods)",
                category: "Store Operations",
                description: "Prosedur pengembalian dan penukaran barang.",
                scope: "• Return authorization\n• Condition inspection\n• Refund processing\n• Exchange handling"
            },
            { 
                code: "SOP-STORE-CS003", 
                title: "Proses Pemberian Informasi Harga, Ketersediaan Stok, & Spesifikasi Barang",
                category: "Store Operations",
                description: "Prosedur pemberian informasi harga, ketersediaan stok, dan spesifikasi barang.",
                scope: "• Price inquiry\n• Stock availability check\n• Product specification\n• Technical information"
            },
            { 
                code: "SOP-STORE-CS004", 
                title: "Penanganan Pelanggan di Area Layanan Pelanggan (Customer Service Desk)",
                category: "Store Operations",
                description: "Prosedur penanganan pelanggan di area layanan pelanggan.",
                scope: "• Customer queue management\n• Service request handling\n• Problem resolution\n• Customer satisfaction"
            },
            
            // Store Operations - Cashier (6 items)
            { 
                code: "SOP-STORE-CSH001", 
                title: "Proses Setoran Harian Kasir (Cashier Daily Deposit)",
                category: "Store Operations",
                description: "Prosedur setoran harian kasir.",
                scope: "• Cash counting\n• Deposit preparation\n• Bank deposit\n• Documentation"
            },
            { 
                code: "SOP-STORE-CSH002", 
                title: "Pengelolaan & Pengisian Uang Kembalian (Float Management)",
                category: "Store Operations",
                description: "Prosedur pengelolaan dan pengisian uang kembalian.",
                scope: "• Float preparation\n• Denomination management\n• Replenishment procedure\n• Security control"
            },
            { 
                code: "SOP-STORE-CSH003", 
                title: "Pengecekan & Validitas Uang Tunai (Cash Validation)",
                category: "Store Operations",
                description: "Prosedur pengecekan dan validitas uang tunai.",
                scope: "• Cash verification\n• Counterfeit detection\n• Condition assessment\n• Acceptance criteria"
            },
            { 
                code: "SOP-STORE-CSH004", 
                title: "Rekonsiliasi Harian Transaksi Kasir (Cashier Daily Reconciliation)",
                category: "Store Operations",
                description: "Prosedur rekonsiliasi harian transaksi kasir.",
                scope: "• Sales reconciliation\n• Cash count verification\n• Variance investigation\n• Reporting"
            },
            { 
                code: "SOP-STORE-CSH005", 
                title: "Penanganan Voucher, Diskon, & Promosi di Kasir",
                category: "Store Operations",
                description: "Prosedur penanganan voucher, diskon, dan promosi di kasir.",
                scope: "• Voucher validation\n• Discount application\n• Promotion verification\n• System entry"
            },
            { 
                code: "SOP-STORE-CSH006", 
                title: "Proses Void & Koreksi Transaksi",
                category: "Store Operations",
                description: "Prosedur void dan koreksi transaksi.",
                scope: "• Void authorization\n• Correction procedure\n• Documentation\n• System adjustment"
            },
            
            // Store Operations - Warehouse (7 items)
            { 
                code: "SOP-STORE-WHS001", 
                title: "Penerimaan Barang dari Pusat/Pemasok (Goods Receiving)",
                category: "Store Operations",
                description: "Prosedur penerimaan barang dari pusat/pemasok.",
                scope: "• Goods inspection\n• Quantity verification\n• Quality check\n• Documentation"
            },
            { 
                code: "SOP-STORE-WHS002", 
                title: "Pengecekan Kuantitas & Kualitas Barang Masuk (Inbound Quality Control)",
                category: "Store Operations",
                description: "Prosedur pengecekan kuantitas dan kualitas barang masuk.",
                scope: "• Quantity count\n• Quality inspection\n• Damage assessment\n• Acceptance/rejection"
            },
            { 
                code: "SOP-STORE-WHS003", 
                title: "Penempatan & Penyimpanan Barang di Rak Gudang (Put Away)",
                category: "Store Operations",
                description: "Prosedur penempatan dan penyimpanan barang di rak gudang.",
                scope: "• Location assignment\n• Stock placement\n• Storage optimization\n• Safety consideration"
            },
            { 
                code: "SOP-STORE-WHS004", 
                title: "Proses Picking & Pengambilan Barang untuk Penjualan (Order Picking)",
                category: "Store Operations",
                description: "Prosedur picking dan pengambilan barang untuk penjualan.",
                scope: "• Order picking\n• Location identification\n• Quantity verification\n• Preparation for delivery"
            },
            { 
                code: "SOP-STORE-WHS005", 
                title: "Penanganan & Pemilahan Barang Rusak (Damaged Goods Handling)",
                category: "Store Operations",
                description: "Prosedur penanganan dan pemilahan barang rusak.",
                scope: "• Damage identification\n• Segregation\n• Reporting\n• Disposal/return"
            },
            { 
                code: "SOP-STORE-WHS006", 
                title: "Penyimpanan & Isolasi Barang Return dari Pelanggan",
                category: "Store Operations",
                description: "Prosedur penyimpanan dan isolasi barang return dari pelanggan.",
                scope: "• Return goods reception\n• Condition assessment\n• Storage location\n• Disposition decision"
            },
            { 
                code: "SOP-STORE-WHS007", 
                title: "Pengemasan Barang untuk Penjualan & Pengiriman (Packing)",
                category: "Store Operations",
                description: "Prosedur pengemasan barang untuk penjualan dan pengiriman.",
                scope: "• Packing material selection\n• Packaging procedure\n• Labeling\n• Quality check"
            },
            
            // Store Operations - Inventory (5 items)
            { 
                code: "SOP-STORE-INV001", 
                title: "Pelaksanaan Stock Opname Tahunan/Bulanan (Physical Inventory Count)",
                category: "Store Operations",
                description: "Prosedur pelaksanaan stock opname tahunan/bulanan.",
                scope: "• Counting preparation\n• Team assignment\n• Physical counting\n• Data recording"
            },
            { 
                code: "SOP-STORE-INV002", 
                title: "Pelaksanaan Cycle Count Harian/Mingguan (Cycle Counting)",
                category: "Store Operations",
                description: "Prosedur pelaksanaan cycle count harian/mingguan.",
                scope: "• Count scheduling\n• Location selection\n• Counting procedure\n• Variance analysis"
            },
            { 
                code: "SOP-STORE-INV003", 
                title: "Proses Penyesuaian Persediaan (Stock Adjustment)",
                category: "Store Operations",
                description: "Prosedur penyesuaian persediaan.",
                scope: "• Adjustment authorization\n• Reason documentation\n• System update\n• Reporting"
            },
            { 
                code: "SOP-STORE-INV004", 
                title: "Pemantauan & Pelaporan Stok Minimum & Usulan Pengadaan (Stock Reordering)",
                category: "Store Operations",
                description: "Prosedur pemantauan dan pelaporan stok minimum dan usulan pengadaan.",
                scope: "• Stock level monitoring\n• Reorder point calculation\n• Purchase requisition\n• Follow-up"
            },
            { 
                code: "SOP-STORE-INV005", 
                title: "Pengelolaan & Pemantauan Barang Kadaluarsa/Expired (jika ada)",
                category: "Store Operations",
                description: "Prosedur pengelolaan dan pemantauan barang kadaluarsa/expired.",
                scope: "• Expiry date tracking\n• Early warning system\n• Disposal procedure\n• Reporting"
            },
            
            // Store Operations - Delivery (6 items)
            { 
                code: "SOP-STORE-DLV001", 
                title: "Penjadwalan & Perencanaan Rute Pengiriman (Delivery Scheduling)",
                category: "Store Operations",
                description: "Prosedur penjadwalan dan perencanaan rute pengiriman.",
                scope: "• Delivery planning\n• Route optimization\n• Vehicle assignment\n• Time scheduling"
            },
            { 
                code: "SOP-STORE-DLV002", 
                title: "Pengepakan & Pembuatan Dokumen Muatan (Packing List & Delivery Order)",
                category: "Store Operations",
                description: "Prosedur pengepakan dan pembuatan dokumen muatan.",
                scope: "• Packing list preparation\n• Delivery order issuance\n• Document verification\n• Customer copy"
            },
            { 
                code: "SOP-STORE-DLV003", 
                title: "Loading & Penataan Barang ke Kendaraan (Loading Procedure)",
                category: "Store Operations",
                description: "Prosedur loading dan penataan barang ke kendaraan.",
                scope: "• Loading planning\n• Weight distribution\n• Safety securing\n• Vehicle inspection"
            },
            { 
                code: "SOP-STORE-DLV004", 
                title: "Serah Terima Barang ke Pelanggan (Goods Handover to Customer)",
                category: "Store Operations",
                description: "Prosedur serah terima barang ke pelanggan.",
                scope: "• Customer verification\n• Goods inspection\n• Documentation signing\n• Proof of delivery"
            },
            { 
                code: "SOP-STORE-DLV005", 
                title: "Penanganan & Pelaporan Barang Hilang/Rusak dalam Pengiriman",
                category: "Store Operations",
                description: "Prosedur penanganan dan pelaporan barang hilang/rusak dalam pengiriman.",
                scope: "• Incident reporting\n• Investigation\n• Compensation process\n• Preventive action"
            },
            { 
                code: "SOP-STORE-DLV006", 
                title: "Pengembalian Barang yang Gagal Kirim (Failed Delivery Return)",
                category: "Store Operations",
                description: "Prosedur pengembalian barang yang gagal kirim.",
                scope: "• Return authorization\n• Goods receipt\n• Condition check\n• Restocking"
            },
            
            // Store Operations - Merchandising (5 items)
            { 
                code: "SOP-STORE-MCH001", 
                title: "Penataan & Perawatan Display Produk (Product Display & Maintenance)",
                category: "Store Operations",
                description: "Prosedur penataan dan perawatan display produk.",
                scope: "• Display arrangement\n• Product rotation\n• Cleaning and maintenance\n• Visual appeal"
            },
            { 
                code: "SOP-STORE-MCH002", 
                title: "Pemasangan Materi Promosi & Harga (Promotional Material & Price Tagging)",
                category: "Store Operations",
                description: "Prosedur pemasangan materi promosi dan harga.",
                scope: "• Price tag placement\n• Promotional signage\n• Campaign materials\n• Compliance check"
            },
            { 
                code: "SOP-STORE-MCH003", 
                title: "Prosedur Kerja SPG/SPB (Promotion Girl/Boy)",
                category: "Store Operations",
                description: "Prosedur kerja SPG/SPB.",
                scope: "• SPG/SPB briefing\n• Product knowledge\n• Customer engagement\n• Sales technique"
            },
            { 
                code: "SOP-STORE-MCH004", 
                title: "Pendekatan & Penawaran Produk kepada Pelanggan oleh SPG/SPB",
                category: "Store Operations",
                description: "Prosedur pendekatan dan penawaran produk kepada pelanggan oleh SPG/SPB.",
                scope: "• Customer approach\n• Product demonstration\n• Needs assessment\n• Sales closing"
            },
            { 
                code: "SOP-STORE-MCH005", 
                title: "Pelaporan Aktivitas & Hasil Penjualan Harian SPG/SPB",
                category: "Store Operations",
                description: "Prosedur pelaporan aktivitas dan hasil penjualan harian SPG/SPB.",
                scope: "• Activity reporting\n• Sales performance\n• Customer feedback\n• Improvement suggestions"
            },
            
            // Purchasing (41 items)
            { 
                code: "SOP-PB-001", 
                title: "Perencanaan dan Budgeting Pembelian",
                category: "Purchasing",
                description: "Prosedur perencanaan dan budgeting untuk kegiatan pembelian.",
                scope: "• Purchase planning\n• Budget preparation\n• Approval process\n• Monitoring"
            },
            { 
                code: "SOP-PB-002", 
                title: "Analisis Kebutuhan Barang Dagangan",
                category: "Purchasing",
                description: "Prosedur analisis kebutuhan barang dagangan.",
                scope: "• Need analysis\n• Market research\n• Requirement definition\n• Specification setting"
            },
            { 
                code: "SOP-PB-003", 
                title: "Forecasting dan Peramalan Stok",
                category: "Purchasing",
                description: "Prosedur forecasting dan peramalan stok.",
                scope: "• Stock forecasting\n• Demand planning\n• Reorder point calculation\n• Safety stock"
            },
            { 
                code: "SOP-PB-004", 
                title: "Penyusunan Rencana Pembelian Tahunan/Bulanan",
                category: "Purchasing",
                description: "Prosedur penyusunan rencana pembelian tahunan/bulanan.",
                scope: "• Annual purchase plan\n• Monthly procurement\n• Schedule preparation\n• Resource allocation"
            },
            { 
                code: "SOP-PB-005", 
                title: "Manajemen Kategori Produk",
                category: "Purchasing",
                description: "Prosedur manajemen kategori produk.",
                scope: "• Category management\n• Product grouping\n• Strategy development\n• Performance monitoring"
            },
            { 
                code: "SOP-PB-006", 
                title: "Seleksi dan Evaluasi Supplier",
                category: "Purchasing",
                description: "Prosedur seleksi dan evaluasi supplier.",
                scope: "• Supplier selection\n• Evaluation criteria\n• Assessment process\n• Rating system"
            },
            { 
                code: "SOP-PB-007", 
                title: "Proses Purchasing dan Purchase Order",
                category: "Purchasing",
                description: "Prosedur proses purchasing dan pembuatan purchase order.",
                scope: "• Purchase order creation\n• Approval workflow\n• Supplier communication\n• Order tracking"
            },
            { 
                code: "SOP-PB-008", 
                title: "Permintaan Penawaran (RFQ/RFP)",
                category: "Purchasing",
                description: "Prosedur permintaan penawaran kepada supplier.",
                scope: "• RFQ preparation\n• Supplier invitation\n• Proposal evaluation\n• Vendor selection"
            },
            { 
                code: "SOP-PB-009", 
                title: "Negosiasi Harga dan Persyaratan",
                category: "Purchasing",
                description: "Prosedur negosiasi harga dan persyaratan dengan supplier.",
                scope: "• Price negotiation\n• Term discussion\n• Agreement finalization\n• Contract signing"
            },
            { 
                code: "SOP-PB-010", 
                title: "Kontrak dan Perjanjian Pembelian",
                category: "Purchasing",
                description: "Prosedur pembuatan kontrak dan perjanjian pembelian.",
                scope: "• Contract preparation\n• Legal review\n• Signing process\n• Contract management"
            },
            { 
                code: "SOP-PB-011", 
                title: "Penerimaan Barang Dagangan",
                category: "Purchasing",
                description: "Prosedur penerimaan barang dagangan.",
                scope: "• Goods receiving\n• Quantity verification\n• Quality inspection\n• Documentation"
            },
            { 
                code: "SOP-PB-012", 
                title: "Pemeriksaan Kualitas Barang (QC)",
                category: "Purchasing",
                description: "Prosedur pemeriksaan kualitas barang.",
                scope: "• Quality control\n• Standard compliance\n• Defect identification\n• Acceptance criteria"
            },
            { 
                code: "SOP-PB-013", 
                title: "Retur dan Penolakan Barang",
                category: "Purchasing",
                description: "Prosedur retur dan penolakan barang.",
                scope: "• Return authorization\n• Rejection procedure\n• Supplier communication\n• Replacement/refund"
            },
            { 
                code: "SOP-PB-014", 
                title: "Pembayaran dan Administrasi Keuangan",
                category: "Purchasing",
                description: "Prosedur pembayaran dan administrasi keuangan.",
                scope: "• Invoice verification\n• Payment processing\n• Documentation\n• Reconciliation"
            },
            { 
                code: "SOP-PB-015", 
                title: "Pemantauan Kinerja Supplier",
                category: "Purchasing",
                description: "Prosedur pemantauan kinerja supplier.",
                scope: "• Performance evaluation\n• Delivery tracking\n• Quality assessment\n• Continuous improvement"
            },
            { 
                code: "SOP-PB-016", 
                title: "Registrasi dan Kualifikasi Supplier Baru",
                category: "Purchasing",
                description: "Prosedur registrasi dan kualifikasi supplier baru.",
                scope: "• Supplier registration\n• Qualification assessment\n• Document verification\n• Approval process"
            },
            { 
                code: "SOP-PB-017", 
                title: "Evaluasi Kinerja Supplier Berkala",
                category: "Purchasing",
                description: "Prosedur evaluasi kinerja supplier berkala.",
                scope: "• Periodic evaluation\n• Performance metrics\n• Feedback session\n• Improvement plan"
            },
            { 
                code: "SOP-PB-018", 
                title: "Pengembangan dan Relasi Supplier",
                category: "Purchasing",
                description: "Prosedur pengembangan dan relasi supplier.",
                scope: "• Supplier development\n• Relationship management\n• Collaboration initiatives\n• Strategic partnership"
            },
            { 
                code: "SOP-PB-019", 
                title: "Penyelesaian Sengketa dengan Supplier",
                category: "Purchasing",
                description: "Prosedur penyelesaian sengketa dengan supplier.",
                scope: "• Dispute identification\n• Negotiation process\n• Resolution agreement\n• Documentation"
            },
            { 
                code: "SOP-PB-020", 
                title: "Manajemen Database Supplier",
                category: "Purchasing",
                description: "Prosedur manajemen database supplier.",
                scope: "• Supplier database maintenance\n• Information update\n• Classification system\n• Reporting"
            },
            { 
                code: "SOP-PB-021", 
                title: "Pengendalian Budget Pembelian",
                category: "Purchasing",
                description: "Prosedur pengendalian budget pembelian.",
                scope: "• Budget monitoring\n• Expenditure control\n• Variance analysis\n• Approval for over-budget"
            },
            { 
                code: "SOP-PB-022", 
                title: "Audit Proses Pembelian Internal",
                category: "Purchasing",
                description: "Prosedur audit proses pembelian internal.",
                scope: "• Internal audit planning\n• Process evaluation\n• Compliance check\n• Improvement recommendation"
            },
            { 
                code: "SOP-PB-023", 
                title: "Rekonsiliasi Pembelian vs Penerimaan",
                category: "Purchasing",
                description: "Prosedur rekonsiliasi pembelian vs penerimaan.",
                scope: "• PO vs GR comparison\n• Variance analysis\n• Discrepancy resolution\n• System adjustment"
            },
            { 
                code: "SOP-PB-024", 
                title: "Pelaporan dan Analisis Kinerja Pembelian",
                category: "Purchasing",
                description: "Prosedur pelaporan dan analisis kinerja pembelian.",
                scope: "• Performance reporting\n• Cost analysis\n• Savings calculation\n• Management dashboard"
            },
            { 
                code: "SOP-PB-025", 
                title: "Complain Handling dan Resolusi Masalah",
                category: "Purchasing",
                description: "Prosedur complain handling dan resolusi masalah.",
                scope: "• Complaint reception\n• Problem investigation\n• Resolution action\n• Follow-up"
            },
            { 
                code: "SOP-PB-026", 
                title: "Pembelian Material Berat (Semen, Besi, Keramik)",
                category: "Purchasing",
                description: "Prosedur pembelian material berat.",
                scope: "• Heavy material procurement\n• Special handling\n• Quality standards\n• Delivery requirements"
            },
            { 
                code: "SOP-PB-027", 
                title: "Pengadaan Material Import",
                category: "Purchasing",
                description: "Prosedur pengadaan material import.",
                scope: "• Import procurement\n• Customs clearance\n• Documentation\n• International logistics"
            },
            { 
                code: "SOP-PB-028", 
                title: "Pembelian Proyek Khusus",
                category: "Purchasing",
                description: "Prosedur pembelian proyek khusus.",
                scope: "• Project procurement\n• Special requirements\n• Timeline management\n• Coordination"
            },
            { 
                code: "SOP-PB-029", 
                title: "Manajemen Stok Material Musiman",
                category: "Purchasing",
                description: "Prosedur manajemen stok material musiman.",
                scope: "• Seasonal demand planning\n• Stock preparation\n• Promotion planning\n• Clearance strategy"
            },
            { 
                code: "SOP-PB-030", 
                title: "Pengadaan Barang Promosi dan Diskon",
                category: "Purchasing",
                description: "Prosedur pengadaan barang promosi dan diskon.",
                scope: "• Promotional goods procurement\n• Discount negotiation\n• Campaign timing\n• Inventory management"
            },
            { 
                code: "SOP-PB-031", 
                title: "Penggunaan Sistem Purchasing Software",
                category: "Purchasing",
                description: "Prosedur penggunaan sistem purchasing software.",
                scope: "• System navigation\n• Data entry\n• Report generation\n• Troubleshooting"
            },
            { 
                code: "SOP-PB-032", 
                title: "Manajemen E-Procurement",
                category: "Purchasing",
                description: "Prosedur manajemen e-procurement.",
                scope: "• E-procurement process\n• Online bidding\n• Digital documentation\n• System integration"
            },
            { 
                code: "SOP-PB-033", 
                title: "Backup dan Keamanan Data Pembelian",
                category: "Purchasing",
                description: "Prosedur backup dan keamanan data pembelian.",
                scope: "• Data backup procedure\n• Security protocol\n• Access control\n• Disaster recovery"
            },
            { 
                code: "SOP-PB-034", 
                title: "Integrasi dengan Sistem Inventory",
                category: "Purchasing",
                description: "Prosedur integrasi dengan sistem inventory.",
                scope: "• System integration\n• Data synchronization\n• Real-time update\n• Error handling"
            },
            { 
                code: "SOP-PB-035", 
                title: "Pembelian Darurat",
                category: "Purchasing",
                description: "Prosedur pembelian darurat.",
                scope: "• Emergency procurement\n• Fast-track process\n• Alternative supplier\n• Documentation"
            },
            { 
                code: "SOP-PB-036", 
                title: "Penanganan Kekurangan Stok Mendadak",
                category: "Purchasing",
                description: "Prosedur penanganan kekurangan stok mendadak.",
                scope: "• Stock shortage response\n• Alternative sourcing\n• Customer communication\n• Preventive measures"
            },
            { 
                code: "SOP-PB-037", 
                title: "Proses Pembelian Cepat (Fast Track)",
                category: "Purchasing",
                description: "Prosedur proses pembelian cepat.",
                scope: "• Fast-track procurement\n• Streamlined approval\n• Priority handling\n• Timeline management"
            },
            { 
                code: "SOP-PB-038", 
                title: "Kode Etik Pembelian",
                category: "Purchasing",
                description: "Prosedur kode etik pembelian.",
                scope: "• Ethical standards\n• Conflict of interest\n• Vendor relationship\n• Compliance monitoring"
            },
            { 
                code: "SOP-PB-039", 
                title: "Pencegahan Fraud dalam Pembelian",
                category: "Purchasing",
                description: "Prosedur pencegahan fraud dalam pembelian.",
                scope: "• Fraud prevention\n• Internal control\n• Audit trail\n• Whistleblower system"
            },
            { 
                code: "SOP-PB-040", 
                title: "Kepatuhan Hukum dan Perpajakan",
                category: "Purchasing",
                description: "Prosedur kepatuhan hukum dan perpajakan.",
                scope: "• Legal compliance\n• Tax regulations\n• Documentation requirements\n• Audit preparation"
            },
            { 
                code: "SOP-PB-041", 
                title: "Strategi Penetapan Harga",
                category: "Purchasing",
                description: "Prosedur strategi penetapan harga.",
                scope: "• Pricing strategy\n• Cost analysis\n• Market benchmarking\n• Profit margin"
            },
            
            // Purchasing General (5 items)
            { 
                code: "SOP-PB-GEN001", 
                title: "Purchase Order",
                category: "Purchasing",
                description: "Prosedur pembuatan dan pengelolaan purchase order.",
                scope: "• PO creation\n• Approval process\n• Supplier communication\n• Order tracking"
            },
            { 
                code: "SOP-PB-GEN002", 
                title: "Pembelian Barang Dagangan Umum",
                category: "Purchasing",
                description: "Prosedur pembelian barang dagangan umum.",
                scope: "• General merchandise procurement\n• Supplier selection\n• Price negotiation\n• Order management"
            },
            { 
                code: "SOP-PB-GEN003", 
                title: "Seleksi Supplier",
                category: "Purchasing",
                description: "Prosedur seleksi supplier.",
                scope: "• Supplier evaluation\n• Qualification criteria\n• Performance assessment\n• Vendor approval"
            },
            { 
                code: "SOP-PB-GEN004", 
                title: "Penukaran Barang Rusak",
                category: "Purchasing",
                description: "Prosedur penukaran barang rusak.",
                scope: "• Damaged goods return\n• Supplier claim\n• Replacement process\n• Documentation"
            },
            { 
                code: "SOP-PB-GEN005", 
                title: "Animasi Proses Pengadaan Barang",
                category: "Purchasing",
                description: "Prosedur animasi proses pengadaan barang.",
                scope: "• Procurement workflow visualization\n• Process mapping\n• Training material\n• Continuous improvement"
            },
            
            // Project Sales - Project (5 items)
            { 
                code: "SOP-PS-PRO001", 
                title: "Identifikasi Sumber & Pencarian Lead Proyek (Lead Generation)",
                category: "Project Sales",
                description: "Prosedur identifikasi dan pencarian lead proyek.",
                scope: "• Lead generation\n• Source identification\n• Prospect list\n• Qualification"
            },
            { 
                code: "SOP-PS-PRO002", 
                title: "Kualifikasi & Klasifikasi Lead Proyek (Lead Qualification)",
                category: "Project Sales",
                description: "Prosedur kualifikasi dan klasifikasi lead proyek.",
                scope: "• Lead qualification\n• Classification\n• Priority setting\n• Assignment"
            },
            { 
                code: "SOP-PS-PRO003", 
                title: "Pendaftaran & Input Data Lead ke dalam Sistem (CRM Entry)",
                category: "Project Sales",
                description: "Prosedur pendaftaran dan input data lead ke CRM.",
                scope: "• CRM data entry\n• Information capture\n• Data validation\n• Follow-up scheduling"
            },
            { 
                code: "SOP-PS-PRO004", 
                title: "Penjaringan Informasi Proyek (Project Mapping & Intelligence Gathering)",
                category: "Project Sales",
                description: "Prosedur penjaringan informasi proyek.",
                scope: "• Project intelligence\n• Market research\n• Competitor analysis\n• Opportunity identification"
            },
            { 
                code: "SOP-PS-PRO005", 
                title: "Pembuatan & Pengelolaan Database Kontraktor, Developer, dan Konsultan",
                category: "Project Sales",
                description: "Prosedur pembuatan dan pengelolaan database kontraktor, developer, dan konsultan.",
                scope: "• Database creation\n• Information update\n• Relationship management\n• Communication strategy"
            },
            
            // Project Sales - Approach (6 items)
            { 
                code: "SOP-PS-APP001", 
                title: "Inisiasi Kontak Awal & Penjajakan (First Contact & Cold Calling)",
                category: "Project Sales",
                description: "Prosedur inisiasi kontak awal dan penjajakan.",
                scope: "• Initial contact\n• Cold calling technique\n• Appointment setting\n• Follow-up strategy"
            },
            { 
                code: "SOP-PS-APP002", 
                title: "Perjanjian & Pelaksanaan Kunjungan Lapangan (Site Visit)",
                category: "Project Sales",
                description: "Prosedur perjanjian dan pelaksanaan kunjungan lapangan.",
                scope: "• Site visit arrangement\n• Preparation checklist\n• On-site assessment\n• Documentation"
            },
            { 
                code: "SOP-PS-APP003", 
                title: "Penyusunan & Presentasi Proposal Penawaran (Project Quotation)",
                category: "Project Sales",
                description: "Prosedur penyusunan dan presentasi proposal penawaran.",
                scope: "• Proposal preparation\n• Pricing strategy\n• Presentation delivery\n• Follow-up"
            },
            { 
                code: "SOP-PS-APP004", 
                title: "Proses Negosiasi Harga & Syarat Pembayaran (Price & Payment Term Negotiation)",
                category: "Project Sales",
                description: "Prosedur negosiasi harga dan syarat pembayaran.",
                scope: "• Price negotiation\n• Payment term discussion\n• Agreement finalization\n• Contract preparation"
            },
            { 
                code: "SOP-PS-APP005", 
                title: "Pengajuan & Persetujuan Harga Khusus (Special Price Request/Approval)",
                category: "Project Sales",
                description: "Prosedur pengajuan dan persetujuan harga khusus.",
                scope: "• Special price request\n• Approval workflow\n• Documentation\n• Communication"
            },
            { 
                code: "SOP-PS-APP006", 
                title: "Penandatanganan Perjanjian Kerjasama (MoU) atau Purchase Order (PO)",
                category: "Project Sales",
                description: "Prosedur penandatanganan perjanjian kerjasama atau purchase order.",
                scope: "• Agreement signing\n• Document preparation\n• Legal review\n• Implementation plan"
            },
            
            // Project Sales - Administration (8 items)
            { 
                code: "SOP-PS-ADM001", 
                title: "Pembuatan & Pengesahan Sales Order (SO) Proyek",
                category: "Project Sales",
                description: "Prosedur pembuatan dan pengesahan sales order proyek.",
                scope: "• Sales order creation\n• Approval process\n• Document distribution\n• Order tracking"
            },
            { 
                code: "SOP-PS-ADM002", 
                title: "Pengajuan & Pengecekan Kredit Limit Pelanggan Proyek (Credit Application)",
                category: "Project Sales",
                description: "Prosedur pengajuan dan pengecekan kredit limit pelanggan proyek.",
                scope: "• Credit application\n• Financial assessment\n• Approval process\n• Limit setting"
            },
            { 
                code: "SOP-PS-ADM003", 
                title: "Administrasi Dokumen Pendukung (SIUP, TDP, NPWP, dll.)",
                category: "Project Sales",
                description: "Prosedur administrasi dokumen pendukung.",
                scope: "• Document collection\n• Verification process\n• Filing system\n• Renewal monitoring"
            },
            { 
                code: "SOP-PS-ADM004", 
                title: "Perhitungan & Pemberian Diskon/Retrospective",
                category: "Project Sales",
                description: "Prosedur perhitungan dan pemberian diskon/retrospective.",
                scope: "• Discount calculation\n• Approval process\n• Documentation\n• Communication"
            },
            { 
                code: "SOP-PS-ADM005", 
                title: "Pembuatan Laporan Kunjungan & Aktivitas Sales Harian/Mingguan (Sales Activity Report)",
                category: "Project Sales",
                description: "Prosedur pembuatan laporan kunjungan dan aktivitas sales.",
                scope: "• Activity reporting\n• Visit documentation\n• Lead tracking\n• Performance analysis"
            },
            { 
                code: "SOP-PS-ADM006", 
                title: "ALUR KERJA KOORDINASI STOK ANTARA DIVISI PROJECT DAN PURCHASING",
                category: "Project Sales",
                description: "Prosedur alur kerja koordinasi stok antara divisi project dan purchasing.",
                scope: "• Stock coordination\n• Communication protocol\n• Order prioritization\n• Delivery scheduling"
            },
            { 
                code: "SOP-PS-ADM007", 
                title: "ALUR PENGADAAN BARANG PROYEK DARI TOKO LAIN (EMERGENCY PROCUREMENT)",
                category: "Project Sales",
                description: "Prosedur alur pengadaan barang proyek dari toko lain.",
                scope: "• Emergency procurement\n• Inter-store transfer\n• Cost calculation\n• Documentation"
            },
            { 
                code: "SOP-PS-ADM008", 
                title: "ALUR PENGADAAN SAMPLE PRODUK UNTUK CUSTOMER PROJECT",
                category: "Project Sales",
                description: "Prosedur alur pengadaan sample produk untuk customer project.",
                scope: "• Sample procurement\n• Customer approval\n• Cost handling\n• Documentation"
            },
            
            // Project Sales - Operations (5 items)
            { 
                code: "SOP-PS-OPS001", 
                title: "Koordinasi Perencanaan & Penjadwalan Pengiriman ke Proyek (Delivery Scheduling)",
                category: "Project Sales",
                description: "Prosedur koordinasi perencanaan dan penjadwalan pengiriman ke proyek.",
                scope: "• Delivery planning\n• Schedule coordination\n• Resource allocation\n• Customer communication"
            },
            { 
                code: "SOP-PS-OPS002", 
                title: "Proses Picking & Persiapan Barang di Gudang untuk Proyek",
                category: "Project Sales",
                description: "Prosedur proses picking dan persiapan barang di gudang untuk proyek.",
                scope: "• Order picking\n• Quality check\n• Packing preparation\n• Documentation"
            },
            { 
                code: "SOP-PS-OPS003", 
                title: "Pembuatan & Pengecekan Dokumen Pengiriman (Delivery Order, Surat Jalan)",
                category: "Project Sales",
                description: "Prosedur pembuatan dan pengecekan dokumen pengiriman.",
                scope: "• Delivery documentation\n• Accuracy check\n• Customer information\n• Proof of delivery"
            },
            { 
                code: "SOP-PS-OPS004", 
                title: "Monitoring Status Pengiriman hingga Barang Diterima di Site",
                category: "Project Sales",
                description: "Prosedur monitoring status pengiriman hingga barang diterima di site.",
                scope: "• Delivery tracking\n• Status update\n• Customer confirmation\n• Issue resolution"
            },
            { 
                code: "SOP-PS-OPS005", 
                title: "Serah Terima Barang & Tanda Terima di Lokasi Proyek (Goods Receipt Acknowledgment)",
                category: "Project Sales",
                description: "Prosedur serah terima barang dan tanda terima di lokasi proyek.",
                scope: "• Goods handover\n• Quality inspection\n• Documentation signing\n• Issue reporting"
            },
            
            // Project Sales - Invoicing (6 items)
            { 
                code: "SOP-PS-INV001", 
                title: "Penerbitan Faktur Penjualan (Invoice) dan Faktur Pajak",
                category: "Project Sales",
                description: "Prosedur penerbitan faktur penjualan dan faktur pajak.",
                scope: "• Invoice generation\n• Tax calculation\n• Document accuracy\n• Distribution"
            },
            { 
                code: "SOP-PS-INV002", 
                title: "Penyerahan Faktur & Dokumen Tagihan ke Pelanggan",
                category: "Project Sales",
                description: "Prosedur penyerahan faktur dan dokumen tagihan ke pelanggan.",
                scope: "• Invoice delivery\n• Customer acknowledgment\n• Document tracking\n• Follow-up"
            },
            { 
                code: "SOP-PS-INV003", 
                title: "Proses Penagihan Piutang (Collection & Follow-up)",
                category: "Project Sales",
                description: "Prosedur penagihan piutang.",
                scope: "• Collection strategy\n• Payment follow-up\n• Dispute resolution\n• Relationship management"
            },
            { 
                code: "SOP-PS-INV004", 
                title: "Monitoring Usia Piutang Proyek (Project Receivable Aging)",
                category: "Project Sales",
                description: "Prosedur monitoring usia piutang proyek.",
                scope: "• Aging analysis\n• Collection prioritization\n• Risk assessment\n• Reporting"
            },
            { 
                code: "SOP-PS-INV005", 
                title: "Penerimaan & Pencatatan Pembayaran dari Pelanggan Proyek",
                category: "Project Sales",
                description: "Prosedur penerimaan dan pencatatan pembayaran dari pelanggan proyek.",
                scope: "• Payment receipt\n• Verification process\n• Accounting entries\n• Documentation"
            },
            { 
                code: "SOP-PS-INV006", 
                title: "Penanganan Keterlambatan Pembayaran (Overdue Payment Handling)",
                category: "Project Sales",
                description: "Prosedur penanganan keterlambatan pembayaran.",
                scope: "• Overdue management\n• Escalation procedure\n• Legal action\n• Relationship preservation"
            },
            
            // Project Sales - After Sales (5 items)
            { 
                code: "SOP-PS-AFT001", 
                title: "Penanganan Komplain & Klaim Garansi Proyek (Project Complaint Handling)",
                category: "Project Sales",
                description: "Prosedur penanganan komplain dan klaim garansi proyek.",
                scope: "• Complaint reception\n• Investigation process\n• Resolution action\n• Documentation"
            },
            { 
                code: "SOP-PS-AFT002", 
                title: "Proses Pengembalian & Penukaran Barang Proyek (Project Return Goods)",
                category: "Project Sales",
                description: "Prosedur pengembalian dan penukaran barang proyek.",
                scope: "• Return authorization\n• Goods inspection\n• Replacement/refund\n• Documentation"
            },
            { 
                code: "SOP-PS-AFT003", 
                title: "Pengajuan & Pengiriman Barang Pengganti (Replacement Goods)",
                category: "Project Sales",
                description: "Prosedur pengajuan dan pengiriman barang pengganti.",
                scope: "• Replacement request\n• Approval process\n• Delivery coordination\n• Customer communication"
            },
            { 
                code: "SOP-PS-AFT004", 
                title: "Kunjungan Rutin & Pemantauan Kepuasan Pelanggan (Customer Retention Visit)",
                category: "Project Sales",
                description: "Prosedur kunjungan rutin dan pemantauan kepuasan pelanggan.",
                scope: "• Customer visit planning\n• Satisfaction assessment\n• Relationship building\n• Opportunity identification"
            },
            { 
                code: "SOP-PS-AFT005", 
                title: "Pengumpulan Dokumen Lengkap Penutupan Proyek (Project Closing Documentation)",
                category: "Project Sales",
                description: "Prosedur pengumpulan dokumen lengkap penutupan proyek.",
                scope: "• Project documentation\n• Final settlement\n• Lessons learned\n• Archiving"
            },
            
            // Project Sales - Support (4 items)
            { 
                code: "SOP-PS-SUP001", 
                title: "Koordinasi dengan Divisi Gudang & Logistik untuk Kebutuhan Proyek",
                category: "Project Sales",
                description: "Prosedur koordinasi dengan divisi gudang dan logistik untuk kebutuhan proyek.",
                scope: "• Inter-department coordination\n• Resource planning\n• Delivery scheduling\n• Issue resolution"
            },
            { 
                code: "SOP-PS-SUP002", 
                title: "Koordinasi dengan Divisi Akuntansi & Keuangan untuk Penagihan dan Pencairan",
                category: "Project Sales",
                description: "Prosedur koordinasi dengan divisi akuntansi dan keuangan untuk penagihan dan pencairan.",
                scope: "• Financial coordination\n• Billing process\n• Collection support\n• Payment tracking"
            },
            { 
                code: "SOP-PS-SUP003", 
                title: "Pengajuan & Pertanggungjawaban Biaya Operasional Sales (Uang Saku, Transport)",
                category: "Project Sales",
                description: "Prosedur pengajuan dan pertanggungjawaban biaya operasional sales.",
                scope: "• Expense claim\n• Documentation requirements\n• Approval process\n• Reimbursement"
            },
            { 
                code: "SOP-PS-SUP004", 
                title: "Briefing & Koordinasi Tim Sales Proyek Harian/Mingguan",
                category: "Project Sales",
                description: "Prosedur briefing dan koordinasi tim sales proyek harian/mingguan.",
                scope: "• Team briefing\n• Target setting\n• Progress review\n• Strategy adjustment"
            },
            
            // Project Sales General (1 item)
            { 
                code: "SOP-PS-GEN001", 
                title: "Perhitungan Insentif Proyek",
                category: "Project Sales",
                description: "Prosedur perhitungan insentif proyek.",
                scope: "• Incentive calculation\n• Performance metrics\n• Approval process\n• Payment processing"
            },
            
            // Marketing - Strategy (5 items)
            { 
                code: "SOP-MKT-STR001", 
                title: "Penyusunan Rencana Pemasaran Tahunan (Annual Marketing Plan)",
                category: "Marketing",
                description: "Prosedur penyusunan rencana pemasaran tahunan.",
                scope: "• Marketing strategy\n• Budget planning\n• Campaign planning\n• Target setting"
            },
            { 
                code: "SOP-MKT-STR002", 
                title: "Analisis Pasar, Kompetitor, dan Konsumen (Market & Competitor Analysis)",
                category: "Marketing",
                description: "Prosedur analisis pasar, kompetitor, dan konsumen.",
                scope: "• Market research\n• Competitor analysis\n• Consumer behavior\n• Trend analysis"
            },
            { 
                code: "SOP-MKT-STR003", 
                title: "Perencanaan & Penganggaran Pemasaran (Marketing Budget Planning)",
                category: "Marketing",
                description: "Prosedur perencanaan dan penganggaran pemasaran.",
                scope: "• Budget allocation\n• Cost estimation\n• Approval process\n• Expenditure tracking"
            },
            { 
                code: "SOP-MKT-STR004", 
                title: "Penetapan Target Pasar & Posisi Pasar (Market Targeting & Positioning)",
                category: "Marketing",
                description: "Prosedur penetapan target pasar dan positioning.",
                scope: "• Target market definition\n• Market segmentation\n• Positioning strategy\n• Brand messaging"
            },
            { 
                code: "SOP-MKT-STR005", 
                title: "Pengukuran Kinerja & Evaluasi Program Pemasaran (Marketing Performance Review)",
                category: "Marketing",
                description: "Prosedur pengukuran kinerja dan evaluasi program pemasaran.",
                scope: "• Performance metrics\n• ROI calculation\n• Campaign evaluation\n• Improvement planning"
            },
            
            // Marketing - Branding (5 items)
            { 
                code: "SOP-MKT-BRD001", 
                title: "Pengelolaan & Pemantauan Ekuitas Merek (Brand Equity Management)",
                category: "Marketing",
                description: "Prosedur pengelolaan dan pemantauan ekuitas merek.",
                scope: "• Brand equity measurement\n• Brand health monitoring\n• Reputation management\n• Brand value enhancement"
            },
            { 
                code: "SOP-MKT-BRD002", 
                title: "Penyusunan Pedoman & Standar Penggunaan Merek (Brand Guideline)",
                category: "Marketing",
                description: "Prosedur penyusunan pedoman dan standar penggunaan merek.",
                scope: "• Brand guideline development\n• Usage standards\n• Compliance monitoring\n• Training"
            },
            { 
                code: "SOP-MKT-BRD003", 
                title: "Perencanaan & Produksi Materi Katalog & Brosur",
                category: "Marketing",
                description: "Prosedur perencanaan dan produksi materi katalog dan brosur.",
                scope: "• Catalog planning\n• Content development\n• Design production\n• Distribution strategy"
            },
            { 
                code: "SOP-MKT-BRD004", 
                title: "Perencanaan & Produksi Materi Promosi Penjualan (Sales Promotion Tools)",
                category: "Marketing",
                description: "Prosedur perencanaan dan produksi materi promosi penjualan.",
                scope: "• Promotion material planning\n• Design development\n• Production management\n• Distribution coordination"
            },
            { 
                code: "SOP-MKT-BRD005", 
                title: "Koordinasi & Briefing Agen Kreatif/ATL (Iklan TV, Radio, Koran)",
                category: "Marketing",
                description: "Prosedur koordinasi dan briefing agen kreatif/ATL.",
                scope: "• Agency coordination\n• Creative briefing\n• Campaign planning\n• Performance monitoring"
            },
            
            // Marketing - Promotion (6 items)
            { 
                code: "SOP-MKT-PRM001", 
                title: "Perencanaan & Pelaksanaan Program Diskon & Penawaran Khusus",
                category: "Marketing",
                description: "Prosedur perencanaan dan pelaksanaan program diskon dan penawaran khusus.",
                scope: "• Discount program planning\n• Promotion execution\n• Performance tracking\n• Evaluation"
            },
            { 
                code: "SOP-MKT-PRM002", 
                title: "Perencanaan & Pelaksanaan Program Loyalitas Pelanggan (Loyalty Program)",
                category: "Marketing",
                description: "Prosedur perencanaan dan pelaksanaan program loyalitas pelanggan.",
                scope: "• Loyalty program design\n• Implementation planning\n• Member management\n• Performance analysis"
            },
            { 
                code: "SOP-MKT-PRM003", 
                title: "Perencanaan & Eksekusi Event & Pameran (Exhibition & Event)",
                category: "Marketing",
                description: "Prosedur perencanaan dan eksekusi event dan pameran.",
                scope: "• Event planning\n• Venue selection\n• Logistics coordination\n• Post-event evaluation"
            },
            { 
                code: "SOP-MKT-PRM004", 
                title: "Pengajuan & Pengelolaan Izin Event/Promosi (Event Permit Management)",
                category: "Marketing",
                description: "Prosedur pengajuan dan pengelolaan izin event/promosi.",
                scope: "• Permit application\n• Documentation requirements\n• Government coordination\n• Compliance monitoring"
            },
            { 
                code: "SOP-MKT-PRM005", 
                title: "Pengelolaan & Distribusi Merchandise dan Hadiah (Giveaway Management)",
                category: "Marketing",
                description: "Prosedur pengelolaan dan distribusi merchandise dan hadiah.",
                scope: "• Merchandise planning\n• Procurement coordination\n• Distribution management\n• Inventory control"
            },
            { 
                code: "SOP-MKT-PRM006", 
                title: "Koordinasi & Dukungan Promosi untuk Proyek (Project Sales Promotion Support)",
                category: "Marketing",
                description: "Prosedur koordinasi dan dukungan promosi untuk proyek.",
                scope: "• Project promotion planning\n• Marketing support\n• Campaign coordination\n• Performance tracking"
            },
            
            // Marketing - Digital (6 items)
            { 
                code: "SOP-MKT-DIG001", 
                title: "Pengelolaan & Update Konten Media Sosial (Instagram, Facebook, TikTok, dll)",
                category: "Marketing",
                description: "Prosedur pengelolaan dan update konten media sosial.",
                scope: "• Content planning\n• Social media management\n• Community engagement\n• Performance analysis"
            },
            { 
                code: "SOP-MKT-DIG002", 
                title: "Pengelolaan & Optimasi Website Perusahaan (Website Management & SEO)",
                category: "Marketing",
                description: "Prosedur pengelolaan dan optimasi website perusahaan.",
                scope: "• Website management\n• Content update\n• SEO optimization\n• Performance monitoring"
            },
            { 
                code: "SOP-MKT-DIG003", 
                title: "Perencanaan & Eksekusi Iklan Berbayar Online (Google Ads, Social Media Ads)",
                category: "Marketing",
                description: "Prosedur perencanaan dan eksekusi iklan berbayar online.",
                scope: "• Digital advertising planning\n• Campaign execution\n• Budget management\n• ROI analysis"
            },
            { 
                code: "SOP-MKT-DIG004", 
                title: "Pengiriman Newsletter & Email Marketing",
                category: "Marketing",
                description: "Prosedur pengiriman newsletter dan email marketing.",
                scope: "• Email list management\n• Content creation\n• Campaign execution\n• Performance tracking"
            },
            { 
                code: "SOP-MKT-DIG005", 
                title: "Monitoring & Engagement dengan Pelanggan di Platform Online",
                category: "Marketing",
                description: "Prosedur monitoring dan engagement dengan pelanggan di platform online.",
                scope: "• Online monitoring\n• Customer engagement\n• Reputation management\n• Response protocol"
            },
            { 
                code: "SOP-MKT-DIG006", 
                title: "Kolaborasi dengan Key Opinion Leader (KOL) & Endorser",
                category: "Marketing",
                description: "Prosedur kolaborasi dengan Key Opinion Leader dan endorser.",
                scope: "• KOL identification\n• Partnership negotiation\n• Campaign coordination\n• Performance evaluation"
            },
            
            // Marketing - Public Relations (5 items)
            { 
                code: "SOP-MKT-PRL001", 
                title: "Perencanaan & Pembuatan Siaran Pers (Press Release)",
                category: "Marketing",
                description: "Prosedur perencanaan dan pembuatan siaran pers.",
                scope: "• Press release planning\n• Content development\n• Media distribution\n• Impact measurement"
            },
            { 
                code: "SOP-MKT-PRL002", 
                title: "Pengelolaan Hubungan dengan Media (Media Relation)",
                category: "Marketing",
                description: "Prosedur pengelolaan hubungan dengan media.",
                scope: "• Media contact management\n• Relationship building\n• Press conference\n• Coverage monitoring"
            },
            { 
                code: "SOP-MKT-PRL003", 
                title: "Penanganian Wawancara & Kehadiran Media",
                category: "Marketing",
                description: "Prosedur penanganan wawancara dan kehadiran media.",
                scope: "• Interview preparation\n• Media briefing\n• Spokesperson training\n• Message consistency"
            },
            { 
                code: "SOP-MKT-PRL004", 
                title: "Pembangunan & Pengelolaan Komunitas (Community Management - e.g., Komunitas Tukang, Kontraktor)",
                category: "Marketing",
                description: "Prosedur pembangunan dan pengelolaan komunitas.",
                scope: "• Community development\n• Engagement activities\n• Content creation\n• Relationship management"
            },
            { 
                code: "SOP-MKT-PRL005", 
                title: "Pelaksanaan Program Corporate Social Responsibility (CSR)",
                category: "Marketing",
                description: "Prosedur pelaksanaan program Corporate Social Responsibility.",
                scope: "• CSR planning\n• Program implementation\n• Community engagement\n• Impact assessment"
            },
            
            // Marketing - Research (4 items)
            { 
                code: "SOP-MKT-RES001", 
                title: "Perencanaan & Pelaksanaan Riset Pasar (Survei, FGD, Interview)",
                category: "Marketing",
                description: "Prosedur perencanaan dan pelaksanaan riset pasar.",
                scope: "• Research planning\n• Methodology selection\n• Data collection\n• Analysis and reporting"
            },
            { 
                code: "SOP-MKT-RES002", 
                title: "Analisis Data & Penyusunan Laporan Riset",
                category: "Marketing",
                description: "Prosedur analisis data dan penyusunan laporan riset.",
                scope: "• Data analysis\n• Insight generation\n• Report preparation\n• Presentation"
            },
            { 
                code: "SOP-MKT-RES003", 
                title: "Pengukuran Kepuasan & Loyalitas Pelanggan (Customer Satisfaction Survey)",
                category: "Marketing",
                description: "Prosedur pengukuran kepuasan dan loyalitas pelanggan.",
                scope: "• Survey design\n• Data collection\n• Analysis\n• Action planning"
            },
            { 
                code: "SOP-MKT-RES004", 
                title: "Riset Efektivitas Iklan & Kampanye (Campaign Effectiveness Research)",
                category: "Marketing",
                description: "Prosedur riset efektivitas iklan dan kampanye.",
                scope: "• Campaign measurement\n• Effectiveness analysis\n• ROI calculation\n• Improvement recommendations"
            },
            
            // Marketing - Administration (5 items)
            { 
                code: "SOP-MKT-ADM001", 
                title: "Pengajuan & Pertanggungjawaban Biaya Pemasaran (Marketing Expense Report)",
                category: "Marketing",
                description: "Prosedur pengajuan dan pertanggungjawaban biaya pemasaran.",
                scope: "• Expense reporting\n• Documentation requirements\n• Approval process\n• Budget tracking"
            },
            { 
                code: "SOP-MKT-ADM002", 
                title: "Pengelolaan Database Pelanggan untuk Kebutuhan Marketing (CRM)",
                category: "Marketing",
                description: "Prosedur pengelolaan database pelanggan untuk kebutuhan marketing.",
                scope: "• CRM management\n• Data segmentation\n• Campaign targeting\n• Performance analysis"
            },
            { 
                code: "SOP-MKT-ADM003", 
                title: "Koordinasi dengan Divisi Penjualan & Toko untuk Program Marketing",
                category: "Marketing",
                description: "Prosedur koordinasi dengan divisi penjualan dan toko untuk program marketing.",
                scope: "• Inter-department coordination\n• Campaign alignment\n• Implementation support\n• Performance tracking"
            },
            { 
                code: "SOP-MKT-ADM004", 
                title: "Pengelolaan & Pemeliharaan Aset Kreatif & Pemasaran (Bank Materi Iklan)",
                category: "Marketing",
                description: "Prosedur pengelolaan dan pemeliharaan aset kreatif dan pemasaran.",
                scope: "• Asset management\n• Digital library\n• Version control\n• Access management"
            },
            { 
                code: "SOP-MKT-ADM005", 
                title: "Pembuatan Laporan Aktivitas & Kinerja Pemasaran Berkala",
                category: "Marketing",
                description: "Prosedur pembuatan laporan aktivitas dan kinerja pemasaran berkala.",
                scope: "• Performance reporting\n• Activity documentation\n• KPI tracking\n• Management presentation"
            },
            
            // Visual Merchandising - Planning (5 items)
            { 
                code: "SOP-VM-PLN001", 
                title: "Penyusunan Kalender & Rencana Visual Merchandising Tahunan/Bulanan",
                category: "Visual Merchandising",
                description: "Prosedur penyusunan kalender dan rencana visual merchandising.",
                scope: "• VM planning\n• Calendar preparation\n• Theme setting\n• Budget planning"
            },
            { 
                code: "SOP-VM-PLN002", 
                title: "Perencanaan Tema & Konsep Visual untuk Kampanye Promosi",
                category: "Visual Merchandising",
                description: "Prosedur perencanaan tema dan konsep visual.",
                scope: "• Theme development\n• Concept design\n• Campaign planning\n• Material preparation"
            },
            { 
                code: "SOP-VM-PLN003", 
                title: "Analisis Denah Toko & Perencanaan Layout Zona Produk (Product Zoning)",
                category: "Visual Merchandising",
                description: "Prosedur analisis denah toko dan perencanaan layout zona produk.",
                scope: "• Store layout analysis\n• Product zoning\n• Traffic flow planning\n• Space optimization"
            },
            { 
                code: "SOP-VM-PLN004", 
                title: "Perencanaan & Penganggaran untuk Props dan Display Baru",
                category: "Visual Merchandising",
                description: "Prosedur perencanaan dan penganggaran untuk props dan display baru.",
                scope: "• Props planning\n• Budget estimation\n• Procurement planning\n• Implementation schedule"
            },
            { 
                code: "SOP-VM-PLN005", 
                title: "Benchmarking & Riset Trend Visual Merchandising Retail",
                category: "Visual Merchandising",
                description: "Prosedur benchmarking dan riset trend visual merchandising retail.",
                scope: "• Trend research\n• Competitive analysis\n• Best practice study\n• Innovation implementation"
            },
            
            // Visual Merchandising - Design (8 items)
            { 
                code: "SOP-VM-DGN001", 
                title: "Briefing & Permintaan Pekerjaan Desain (Design Request Form)",
                category: "Visual Merchandising",
                description: "Prosedur briefing dan permintaan pekerjaan desain.",
                scope: "• Design brief\n• Requirement specification\n• Timeline setting\n• Approval process"
            },
            { 
                code: "SOP-VM-DGN002", 
                title: "Perancangan & Produksi Materi Signage & Price Tag",
                category: "Visual Merchandising",
                description: "Prosedur perancangan dan produksi materi signage dan price tag.",
                scope: "• Signage design\n• Price tag development\n• Production coordination\n• Quality control"
            },
            { 
                code: "SOP-VM-DGN003", 
                title: "Desain Banner, Poster, & Backdrop Promosi untuk In-Store & Digital",
                category: "Visual Merchandising",
                description: "Prosedur desain banner, poster, dan backdrop promosi.",
                scope: "• Promotional material design\n• Creative development\n• Production coordination\n• Implementation planning"
            },
            { 
                code: "SOP-VM-DGN004", 
                title: "Desain Katalog, Brosur, & Flyer",
                category: "Visual Merchandising",
                description: "Prosedur desain katalog, brosur, dan flyer.",
                scope: "• Print material design\n• Content layout\n• Proofreading\n• Production management"
            },
            { 
                code: "SOP-VM-DGN005", 
                title: "Desain Kemasan & Label Produk Private Label",
                category: "Visual Merchandising",
                description: "Prosedur desain kemasan dan label produk private label.",
                scope: "• Packaging design\n• Label development\n• Regulatory compliance\n• Production coordination"
            },
            { 
                code: "SOP-VM-DGN006", 
                title: "Desain Uniform & Atribut Karyawan",
                category: "Visual Merchandising",
                description: "Prosedur desain uniform dan atribut karyawan.",
                scope: "• Uniform design\n• Brand alignment\n• Comfort and functionality\n• Production management"
            },
            { 
                code: "SOP-VM-DGN007", 
                title: "Proses Review & Approval Karya Desain (Design Approval Workflow)",
                category: "Visual Merchandising",
                description: "Prosedur review dan approval karya desain.",
                scope: "• Design review process\n• Feedback collection\n• Revision management\n• Final approval"
            },
            { 
                code: "SOP-VM-DGN008", 
                title: "Pengelolaan & Penyimpanan Aset Digital (Digital Asset Management)",
                category: "Visual Merchandising",
                description: "Prosedur pengelolaan dan penyimpanan aset digital.",
                scope: "• Digital asset management\n• File organization\n• Version control\n• Access management"
            },
            
            // Visual Merchandising - Execution (5 items)
            { 
                code: "SOP-VM-EXE001", 
                title: "Pemasangan & Rotasi Signage & Promosi Visual",
                category: "Visual Merchandising",
                description: "Prosedur pemasangan dan rotasi signage dan promosi visual.",
                scope: "• Signage installation\n• Promotion rotation\n• Quality check\n• Maintenance"
            },
            { 
                code: "SOP-VM-EXE002", 
                title: "Penataan & Perawatan Display Produk (Window & In-Store Display)",
                category: "Visual Merchandising",
                description: "Prosedur penataan dan perawatan display produk.",
                scope: "• Display arrangement\n• Product presentation\n• Cleaning and maintenance\n• Visual appeal"
            },
            { 
                code: "SOP-VM-EXE003", 
                title: "Standarisasi Penataan Rak & Gondola (Planogram Execution)",
                category: "Visual Merchandising",
                description: "Prosedur standarisasi penataan rak dan gondola.",
                scope: "• Planogram implementation\n• Shelf arrangement\n• Product placement\n• Compliance check"
            },
            { 
                code: "SOP-VM-EXE004", 
                title: "Pemasangan & Perawatan Dekorasi & Props",
                category: "Visual Merchandising",
                description: "Prosedur pemasangan dan perawatan dekorasi dan props.",
                scope: "• Decoration installation\n• Props setup\n• Maintenance schedule\n• Safety check"
            },
            { 
                code: "SOP-VM-EXE005", 
                title: "Instalasi & Pemeliharaan Display Lighting",
                category: "Visual Merchandising",
                description: "Prosedur instalasi dan pemeliharaan display lighting.",
                scope: "• Lighting installation\n• Maintenance schedule\n• Energy efficiency\n• Safety compliance"
            },
            
            // Visual Merchandising - Operations (5 items)
            { 
                code: "SOP-VM-OPS001", 
                title: "Pengadaan & Pengelolaan Inventory Props & Display",
                category: "Visual Merchandising",
                description: "Prosedur pengadaan dan pengelolaan inventory props dan display.",
                scope: "• Props procurement\n• Inventory management\n• Storage organization\n• Usage tracking"
            },
            { 
                code: "SOP-VM-OPS002", 
                title: "Perawatan, Perbaikan, & Penyimpanan Props",
                category: "Visual Merchandising",
                description: "Prosedur perawatan, perbaikan, dan penyimpanan props.",
                scope: "• Props maintenance\n• Repair procedure\n• Storage management\n• Inventory control"
            },
            { 
                code: "SOP-VM-OPS003", 
                title: "Distribusi & Instalasi Materi Visual ke Semua Cabang",
                category: "Visual Merchandising",
                description: "Prosedur distribusi dan instalasi materi visual ke semua cabang.",
                scope: "• Material distribution\n• Installation coordination\n• Quality control\n• Branch support"
            },
            { 
                code: "SOP-VM-OPS004", 
                title: "Koordinasi dengan Tim Toko untuk Implementasi VM",
                category: "Visual Merchandising",
                description: "Prosedur koordinasi dengan tim toko untuk implementasi VM.",
                scope: "• Store coordination\n• Implementation planning\n• Training support\n• Performance monitoring"
            },
            { 
                code: "SOP-VM-OPS005", 
                title: "Pengelolaan & Pemasangan Instore Radio & Audio Visual",
                category: "Visual Merchandising",
                description: "Prosedur pengelolaan dan pemasangan instore radio dan audio visual.",
                scope: "• Audio system management\n• Content programming\n• Installation coordination\n• Maintenance"
            },
            
            // Visual Merchandising - Evaluation (4 items)
            { 
                code: "SOP-VM-EVL001", 
                title: "Audit & Evaluasi Kepatuhan VM di Semua Cabang (VM Audit Checklist)",
                category: "Visual Merchandising",
                description: "Prosedur audit dan evaluasi kepatuhan VM di semua cabang.",
                scope: "• VM audit\n• Compliance assessment\n• Scoring system\n• Improvement plan"
            },
            { 
                code: "SOP-VM-EVL002", 
                title: "Pengukuran Dampak Visual Merchandising terhadap Penjualan",
                category: "Visual Merchandising",
                description: "Prosedur pengukuran dampak visual merchandising terhadap penjualan.",
                scope: "• Sales impact analysis\n• Performance metrics\n• ROI calculation\n• Best practice identification"
            },
            { 
                code: "SOP-VM-EVL003", 
                title: "Pelaporan & Dokumentasi Hasil Implementasi VM",
                category: "Visual Merchandising",
                description: "Prosedur pelaporan dan dokumentasi hasil implementasi VM.",
                scope: "• Implementation reporting\n• Documentation\n• Photo evidence\n• Performance summary"
            },
            { 
                code: "SOP-VM-EVL004", 
                title: "Feedback Loop & Perbaikan Berkelanjutan untuk Desain & Implementasi",
                category: "Visual Merchandising",
                description: "Prosedur feedback loop dan perbaikan berkelanjutan untuk desain dan implementasi.",
                scope: "• Feedback collection\n• Improvement planning\n• Process refinement\n• Innovation implementation"
            },
            
            // Security - Operations (5 items)
            { 
                code: "SOP-SEC-OPS001", 
                title: "Serah Terima Jabatan (Sergap) Antar Petugas Sekuriti",
                category: "Security",
                description: "Prosedur serah terima jabatan antar petugas security.",
                scope: "• Shift handover\n• Incident reporting\n• Equipment check\n• Information transfer"
            },
            { 
                code: "SOP-SEC-OPS002", 
                title: "Patroli Berkala di Area Dalam dan Luar Gedung",
                category: "Security",
                description: "Prosedur patroli berkala di area gedung.",
                scope: "• Patrol schedule\n• Route planning\n• Incident reporting\n• Safety check"
            },
            { 
                code: "SOP-SEC-OPS003", 
                title: "Pengawasan melalui CCTV dan Peralatan Monitoring Lainnya",
                category: "Security",
                description: "Prosedur pengawasan melalui CCTV dan peralatan monitoring lainnya.",
                scope: "• CCTV monitoring\n• Equipment operation\n• Incident detection\n• Recording management"
            },
            { 
                code: "SOP-SEC-OPS004", 
                title: "Pengelolaan & Operasional Posko Sekuriti",
                category: "Security",
                description: "Prosedur pengelolaan dan operasional posko sekuriti.",
                scope: "• Security post management\n• Equipment maintenance\n• Communication protocol\n• Visitor reception"
            },
            { 
                code: "SOP-SEC-OPS005", 
                title: "Pengawasan & Pencatatan Kegiatan Kebersihan dan Tenaga Kerja Kontraktor",
                category: "Security",
                description: "Prosedur pengawasan dan pencatatan kegiatan kebersihan dan tenaga kerja kontraktor.",
                scope: "• Contractor supervision\n• Activity logging\n• Safety compliance\n• Incident reporting"
            },
            
            // Security - Access Control (5 items)
            { 
                code: "SOP-SEC-ACC001", 
                title: "Pengendalian Akses Keluar Masuk Karyawan dan Tamu",
                category: "Security",
                description: "Prosedur pengendalian akses keluar masuk karyawan dan tamu.",
                scope: "• Access control\n• ID verification\n• Visitor registration\n• Log maintenance"
            },
            { 
                code: "SOP-SEC-ACC002", 
                title: "Pencatatan & Pengawasan Keluar Masuk Kendaraan",
                category: "Security",
                description: "Prosedur pencatatan dan pengawasan keluar masuk kendaraan.",
                scope: "• Vehicle registration\n• Parking control\n• Traffic management\n• Security check"
            },
            { 
                code: "SOP-SEC-ACC003", 
                title: "Pemeriksaan & Pengeluaran Barang (Barang Bawa Keluar/Pass System)",
                category: "Security",
                description: "Prosedur pemeriksaan dan pengeluaran barang.",
                scope: "• Goods inspection\n• Pass system\n• Documentation verification\n• Authorization check"
            },
            { 
                code: "SOP-SEC-ACC004", 
                title: "Pengelolaan & Distribusi Kunci Akses Area Tertentu",
                category: "Security",
                description: "Prosedur pengelolaan dan distribusi kunci akses area tertentu.",
                scope: "• Key management\n• Access control\n• Issuance procedure\n• Return process"
            },
            { 
                code: "SOP-SEC-ACC005", 
                title: "Penanganan & Pencatatan Tamu dan Vendors",
                category: "Security",
                description: "Prosedur penanganan dan pencatatan tamu dan vendors.",
                scope: "• Guest reception\n• Vendor registration\n• Badge issuance\n• Access control"
            },
            
            // Security - Asset Protection (5 items)
            { 
                code: "SOP-SEC-AST001", 
                title: "Pengamanan Fisik Gedung, Perimeter, dan Area Parkir",
                category: "Security",
                description: "Prosedur pengamanan fisik gedung, perimeter, dan area parkir.",
                scope: "• Physical security\n• Perimeter protection\n• Parking security\n• Access control"
            },
            { 
                code: "SOP-SEC-AST002", 
                title: "Pengawasan & Pengamanan Area Penyimpanan Barang (Gudang)",
                category: "Security",
                description: "Prosedur pengawasan dan pengamanan area penyimpanan barang.",
                scope: "• Warehouse security\n• Access control\n• Surveillance\n• Inventory protection"
            },
            { 
                code: "SOP-SEC-AST003", 
                title: "Pengamanan & Monitoring Aset Bernilai Tinggi",
                category: "Security",
                description: "Prosedur pengamanan dan monitoring aset bernilai tinggi.",
                scope: "• High-value asset protection\n• Special surveillance\n• Access restriction\n• Movement tracking"
            },
            { 
                code: "SOP-SEC-AST004", 
                title: "Pengawasan & Pencegahan Kehilangan Barang (Loss Prevention)",
                category: "Security",
                description: "Prosedur pengawasan dan pencegahan kehilangan barang.",
                scope: "• Loss prevention\n• Theft detection\n• Investigation procedure\n• Preventive measures"
            },
            { 
                code: "SOP-SEC-AST005", 
                title: "Pengamanan Kendaraan Karyawan dan Konsumen di Area Parkir",
                category: "Security",
                description: "Prosedur pengamanan kendaraan karyawan dan konsumen di area parkir.",
                scope: "• Vehicle security\n• Parking area patrol\n• Incident response\n• Customer assistance"
            },
            
            // Security - Emergency (5 items)
            { 
                code: "SOP-SEC-EMG001", 
                title: "Prosedur Tanggap Darurat Kebakaran",
                category: "Security",
                description: "Prosedur tanggap darurat kebakaran.",
                scope: "• Fire emergency response\n• Evacuation procedure\n• Fire equipment operation\n• Coordination with fire department"
            },
            { 
                code: "SOP-SEC-EMG002", 
                title: "Penanganan Keadaan Darurat Medis (P3K & Evakuasi)",
                category: "Security",
                description: "Prosedur penanganan keadaan darurat medis.",
                scope: "• Medical emergency response\n• First aid procedure\n• Evacuation assistance\n• Coordination with medical services"
            },
            { 
                code: "SOP-SEC-EMG003", 
                title: "Penanganan Ancaman & Gangguan Keamanan (Pencurian, Perkelahian, Unjuk Rasa)",
                category: "Security",
                description: "Prosedur penanganan ancaman dan gangguan keamanan.",
                scope: "• Security threat response\n• Incident management\n• Coordination with police\n• De-escalation techniques"
            },
            { 
                code: "SOP-SEC-EMG004", 
                title: "Prosedur Evakuasi Gedung",
                category: "Security",
                description: "Prosedur evakuasi gedung.",
                scope: "• Building evacuation\n• Assembly point management\n• Head count\n• Emergency communication"
            },
            { 
                code: "SOP-SEC-EMG005", 
                title: "Koordinasi dengan Aparat Keamanan (Kepolisian, Pemadam)",
                category: "Security",
                description: "Prosedur koordinasi dengan aparat keamanan.",
                scope: "• External agency coordination\n• Emergency response support\n• Information sharing\n• Follow-up procedure"
            },
            
            // Security - Administration (5 items)
            { 
                code: "SOP-SEC-ADM001", 
                title: "Pembuatan & Pengisian Laporan Harian (Security Daily Report)",
                category: "Security",
                description: "Prosedur pembuatan dan pengisian laporan harian security.",
                scope: "• Daily reporting\n• Incident documentation\n• Activity log\n• Shift summary"
            },
            { 
                code: "SOP-SEC-ADM002", 
                title: "Pembuatan Laporan Insiden & Pelanggaran Keamanan (Incident Report)",
                category: "Security",
                description: "Prosedur pembuatan laporan insiden dan pelanggaran keamanan.",
                scope: "• Incident reporting\n• Investigation documentation\n• Evidence collection\n• Follow-up action"
            },
            { 
                code: "SOP-SEC-ADM003", 
                title: "Pencatatan & Pelaporan Kondisi Peralatan Sekuriti",
                category: "Security",
                description: "Prosedur pencatatan dan pelaporan kondisi peralatan sekuriti.",
                scope: "• Equipment inspection\n• Maintenance reporting\n• Repair requests\n• Inventory management"
            },
            { 
                code: "SOP-SEC-ADM004", 
                title: "Administrasi & Pengarsipan Dokumen Keamanan",
                category: "Security",
                description: "Prosedur administrasi dan pengarsipan dokumen keamanan.",
                scope: "• Document filing\n• Record keeping\n• Archiving procedure\n• Retrieval process"
            },
            { 
                code: "SOP-SEC-ADM005", 
                title: "Briefing & Koordinasi Harian/Mingguan Tim Sekuriti",
                category: "Security",
                description: "Prosedur briefing dan koordinasi harian/mingguan tim sekuriti.",
                scope: "• Team briefing\n• Shift coordination\n• Information sharing\n• Performance review"
            },
            
            // Security - Violation (4 items)
            { 
                code: "SOP-SEC-VIO001", 
                title: "Penanganan & Pencatatan Pelanggaran Prosedur oleh Karyawan",
                category: "Security",
                description: "Prosedur penanganan dan pencatatan pelanggaran prosedur oleh karyawan.",
                scope: "• Violation identification\n• Documentation\n• Reporting to management\n• Follow-up action"
            },
            { 
                code: "SOP-SEC-VIO002", 
                title: "Penanganan & Pencatatan Pelanggaran oleh Tamu dan Pihak Luar",
                category: "Security",
                description: "Prosedur penanganan dan pencatatan pelanggaran oleh tamu dan pihak luar.",
                scope: "• External violation handling\n• Documentation\n• Escalation procedure\n• Preventive measures"
            },
            { 
                code: "SOP-SEC-VIO003", 
                title: "Proses Pemeriksaan & Penanganan Dugaan Kecurangan (Fraud)",
                category: "Security",
                description: "Prosedur pemeriksaan dan penanganan dugaan kecurangan.",
                scope: "• Fraud investigation\n• Evidence collection\n• Reporting\n• Coordination with management"
            },
            { 
                code: "SOP-SEC-VIO004", 
                title: "Pengawasan & Pencegahan Mark Up Harga oleh Oknum",
                category: "Security",
                description: "Prosedur pengawasan dan pencegahan mark up harga oleh oknum.",
                scope: "• Price manipulation monitoring\n• Investigation procedure\n• Reporting\n• Preventive controls"
            },
			// Tambahkan data SOP baru ini ke dalam array sopData (setelah data yang sudah ada)

// Store Operations
			{ 
				code: "SOP-STORE-KAS001", 
				title: "SOP KASBON",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan dan pengelolaan kasbon untuk kebutuhan operasional toko.",
				scope: "• Pengajuan kasbon\n• Persetujuan atasan\n• Pencatatan dan akuntansi\n• Pelunasan kasbon"
			},
			{ 
				code: "SOP-STORE-RES001", 
				title: "SOP PENGAJUAN PENGUNDURAN DIRI",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan dan proses pengunduran diri karyawan toko.",
				scope: "• Pengajuan surat pengunduran diri\n• Proses exit interview\n• Serah terima pekerjaan\n• Clearance dan final payment"
			},
			{ 
				code: "SOP-STORE-HOL001", 
				title: "SOP LIBUR NASIONAL",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan hari libur nasional dan pengaturan jadwal kerja.",
				scope: "• Penetapan hari libur\n• Pengaturan shift kerja\n• Kompensasi hari libur\n• Pengumuman ke karyawan"
			},
			{ 
				code: "SOP-STORE-OFF001", 
				title: "SOP TUKAR OFF",
				category: "STORE OPERATIONS",
				description: "Prosedur permintaan dan persetujuan tukar hari off antar karyawan.",
				scope: "• Permintaan tukar off\n• Persetujuan atasan\n• Update jadwal kerja\n• Koordinasi antar karyawan"
			},
			{ 
				code: "SOP-STORE-PNT001", 
				title: "SOP PENGECEKAN PENJUALAN CAT TINTING",
				category: "STORE OPERATIONS",
				description: "Prosedur pemeriksaan dan verifikasi penjualan cat tinting.",
				scope: "• Verifikasi formula tinting\n• Pengecekan stok colorant\n• Dokumentasi penjualan\n• Quality control"
			},
			{ 
				code: "SOP-STORE-ITR001", 
				title: "SOP PENGAJUAN BARANG DIVISI IT",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan kebutuhan barang untuk divisi IT toko.",
				scope: "• Pengajuan kebutuhan IT\n• Approval proses\n• Procurement barang IT\n• Instalasi dan testing"
			},
			{ 
				code: "SOP-STORE-VEH001", 
				title: "SOP PEMINJAMAN KENDARAAN OPERASIONAL",
				category: "STORE OPERATIONS",
				description: "Prosedur peminjaman dan penggunaan kendaraan operasional toko.",
				scope: "• Permintaan penggunaan kendaraan\n• Persetujuan atasan\n• Pencatatan logbook\n• Pengembalian kendaraan"
			},
			{ 
				code: "SOP-STORE-CON001", 
				title: "SOP STOK BARANG KONSINYASI",
				category: "STORE OPERATIONS",
				description: "Prosedur pengelolaan stok barang konsinyasi.",
				scope: "• Penerimaan barang konsinyasi\n• Pencatatan stock\n• Pelaporan penjualan\n• Settlement dengan supplier"
			},
			{ 
				code: "SOP-STORE-BOX001", 
				title: "SOP KELENGKAPAN KARDUS BARANG JUAL R",
				category: "STORE OPERATIONS",
				description: "Prosedur pengecekan kelengkapan kardus untuk barang ready stock.",
				scope: "• Pengecekan kondisi kardus\n• Verifikasi kelengkapan barang\n• Labeling dan coding\n• Penyimpanan yang tepat"
			},
			{ 
				code: "SOP-STORE-RET001", 
				title: "SOP KELOMPOK BARANG RETURNABLE",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan kelompok barang yang dapat diretur.",
				scope: "• Identifikasi barang returnable\n• Proses retur ke supplier\n• Dokumentasi retur\n• Penggantian barang"
			},
			{ 
				code: "SOP-STORE-REQ001", 
				title: "SOP PERMINTAAN BARANG",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan permintaan barang ke gudang pusat.",
				scope: "• Pengajuan kebutuhan barang\n• Approval supervisor\n• Proses picking di gudang\n• Penerimaan barang"
			},
			{ 
				code: "SOP-STORE-DOC001", 
				title: "SOP SURAT JALAN PENGIRIMAN",
				category: "STORE OPERATIONS",
				description: "Prosedur pembuatan dan penggunaan surat jalan untuk pengiriman barang.",
				scope: "• Pembuatan surat jalan\n• Verifikasi barang kiriman\n• Tanda tangan penerima\n• Arsip dokumentasi"
			},
			{ 
				code: "SOP-STORE-NA001", 
				title: "SOP BARANG YANG BELUM ADA DI TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan permintaan barang yang belum tersedia di toko.",
				scope: "• Pencatatan permintaan customer\n• Cek ketersediaan di gudang\n• Proses indent\n• Follow up ke customer"
			},
			{ 
				code: "SOP-STORE-TIN001", 
				title: "SOP CAT TINTING SALAH OPLOS",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan cat tinting yang salah oplos.",
				scope: "• Identifikasi kesalahan oplos\n• Analisis penyebab\n• Corrective action\n• Pembuatan ulang"
			},
			{ 
				code: "SOP-STORE-ASS001", 
				title: "SOP PELAPORAN KERUSAKAN DAN KEHILANGAN ASET PERUSAHAAN",
				category: "STORE OPERATIONS",
				description: "Prosedur pelaporan kerusakan atau kehilangan aset perusahaan.",
				scope: "• Identifikasi kerusakan/kehilangan\n• Pembuatan laporan insiden\n• Investigasi penyebab\n• Tindak lanjut perbaikan"
			},
			{ 
				code: "SOP-STORE-BAZ001", 
				title: "SOP BAZAR EKSTERNAL",
				category: "STORE OPERATIONS",
				description: "Prosedur partisipasi dalam bazar eksternal.",
				scope: "• Perencanaan partisipasi bazar\n• Persiapan barang dan display\n• Penugasan staff\n• Evaluasi hasil bazar"
			},
			{ 
				code: "SOP-STORE-PRJ001", 
				title: "SOP PENGURANGAN HARGA PROYEK",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan dan persetujuan pengurangan harga untuk proyek.",
				scope: "• Pengajuan diskon proyek\n• Approval manajemen\n• Dokumentasi persetujuan\n• Implementasi harga baru"
			},
			{ 
				code: "SOP-STORE-SAM001", 
				title: "SOP PENERIMAAN BARANG SAMPLE",
				category: "STORE OPERATIONS",
				description: "Prosedur penerimaan dan pengelolaan barang sample.",
				scope: "• Penerimaan barang sample\n• Pencatatan dan labeling\n• Penyimpanan yang tepat\n• Penggunaan sample"
			},
			{ 
				code: "SOP-STORE-ERR001", 
				title: "SOP PENCATATAN KESALAHAN",
				category: "STORE OPERATIONS",
				description: "Prosedur pencatatan dan analisis kesalahan operasional.",
				scope: "• Identifikasi kesalahan\n• Dokumentasi insiden\n• Analisis root cause\n• Corrective action"
			},
			{ 
				code: "SOP-STORE-ONL001", 
				title: "SOP TRANSAKSI ONLINE YANG BARANGNYA DIAMBIL LANGSUNG OLEH CUSTOMER",
				category: "STORE OPERATIONS",
				description: "Prosedur transaksi online dengan pickup langsung oleh customer.",
				scope: "• Proses order online\n• Konfirmasi ketersediaan\n• Persiapan barang pickup\n• Serah terima di toko"
			},
			{ 
				code: "SOP-STORE-COD001", 
				title: "SOP COD",
				category: "STORE OPERATIONS",
				description: "Prosedur transaksi Cash on Delivery.",
				scope: "• Penerimaan order COD\n• Proses pengiriman\n• Penerimaan pembayaran\n• Pelaporan keuangan"
			},
			{ 
				code: "SOP-STORE-TSH001", 
				title: "SOP PENGELUARAN KAOS PROJECT",
				category: "STORE OPERATIONS",
				description: "Prosedur pengeluaran dan distribusi kaos untuk proyek.",
				scope: "• Permintaan kaos proyek\n• Approval manajemen\n• Distribusi ke tim\n• Pencatatan penggunaan"
			},
			{ 
				code: "SOP-STORE-SRV001", 
				title: "SOP JASA PEMASANGAN ATAU SERVICE",
				category: "STORE OPERATIONS",
				description: "Prosedur penjualan jasa pemasangan atau service.",
				scope: "• Penawaran jasa pemasangan\n• Scheduling technician\n• Pelaksanaan service\n• Follow up customer"
			},
			{ 
				code: "SOP-STORE-KON002", 
				title: "SOP PERALIHAN BARANG KONSINYASI MENJADI BARANG PUTUS",
				category: "STORE OPERATIONS",
				description: "Prosedur konversi barang konsinyasi menjadi barang putus.",
				scope: "• Evaluasi barang konsinyasi\n• Approval konversi\n• Update sistem inventory\n• Pelaporan ke supplier"
			},
			{ 
				code: "SOP-STORE-OPN001", 
				title: "SOP OPNAME PARSIAL",
				category: "STORE OPERATIONS",
				description: "Prosedur pelaksanaan opname parsial secara berkala.",
				scope: "• Perencanaan opname parsial\n• Penugasan tim opname\n• Proses counting\n• Rekonsiliasi hasil"
			},
			{ 
				code: "SOP-STORE-MIT001", 
				title: "SOP PERMINTAAN BARANG KE TOKO MITRA BANGUNAN",
				category: "STORE OPERATIONS",
				description: "Prosedur permintaan barang ke toko Mitra Bangunan untuk kebutuhan stok.",
				scope: "• Identifikasi kebutuhan barang\n• Koordinasi dengan toko mitra\n• Proses transfer barang\n• Penerimaan dan pencatatan"
			},
			{ 
				code: "SOP-STORE-BEV001", 
				title: "SOP PERSEDIAAN MINUMAN UNTUK TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur pengelolaan persediaan minuman di toko.",
				scope: "• Perencanaan kebutuhan minuman\n• Proses pembelian\n• Penyimpanan yang tepat\n• Distribusi ke karyawan"
			},
			{ 
				code: "SOP-STORE-EMP001", 
				title: "SOP PERMINTAAN KARYAWAN",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan kebutuhan penambahan karyawan.",
				scope: "• Analisis kebutuhan staff\n• Pengajuan ke HRD\n• Proses recruitment\n• Onboarding karyawan baru"
			},
			{ 
				code: "SOP-STORE-SHP001", 
				title: "SOP KIRIM BARANG",
				category: "STORE OPERATIONS",
				description: "Prosedur pengiriman barang ke customer.",
				scope: "• Persiapan barang kiriman\n• Pembuatan dokumen pengiriman\n• Penjadwalan kurir\n• Tracking delivery"
			},
			{ 
				code: "SOP-STORE-MNT001", 
				title: "SOP PEMELIHARAAN PAGAR TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur pemeliharaan dan perawatan pagar toko.",
				scope: "• Inspeksi rutin pagar\n• Jadwal maintenance\n• Proses perbaikan\n• Quality check setelah perbaikan"
			},
			{ 
				code: "SOP-STORE-GFT001", 
				title: "SOP ADJUSTMENT STOK HADIAH",
				category: "STORE OPERATIONS",
				description: "Prosedur penyesuaian stok barang hadiah.",
				scope: "• Pengecekan stok hadiah\n• Adjustment berdasarkan penggunaan\n• Pelaporan adjustment\n• Rekonsiliasi dengan promosi"
			},
			{ 
				code: "SOP-STORE-CEM001", 
				title: "SOP PERAWATAN SEMEN",
				category: "STORE OPERATIONS",
				description: "Prosedur perawatan dan penyimpanan semen yang tepat.",
				scope: "• Penyimpanan semen yang benar\n• Rotasi stock FIFO\n• Pencegahan kelembaban\n• Quality control"
			},
			{ 
				code: "SOP-STORE-EXP001", 
				title: "SOP BARANG EXPIRED",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan barang yang sudah expired.",
				scope: "• Monitoring tanggal expired\n• Isolasi barang expired\n• Proses disposal\n• Pelaporan keuangan"
			},
			{ 
				code: "SOP-STORE-HLP001", 
				title: "SOP PEMINJAMAN HELPER UNTUK PERBANTUAN",
				category: "STORE OPERATIONS",
				description: "Prosedur peminjaman helper untuk kebutuhan bantuan operasional.",
				scope: "• Identifikasi kebutuhan helper\n• Koordinasi dengan HRD\n• Penugasan helper\n• Evaluasi kinerja"
			},
			{ 
				code: "SOP-STORE-TSP001", 
				title: "SOP KETENTUAN TEAM SALES PROJECT TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur dan ketentuan kerja untuk team sales project.",
				scope: "• Struktur team sales project\n• Target dan KPI\n• Komisi dan insentif\n• Reporting system"
			},
			{ 
				code: "SOP-STORE-AUD001", 
				title: "SOP TEMUAN AUDIT",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan temuan audit internal/eksternal.",
				scope: "• Review temuan audit\n• Penyusunan action plan\n• Implementasi perbaikan\n• Follow up dan closing"
			},
			{ 
				code: "SOP-STORE-BRW001", 
				title: "SOP PEMINJAMAN BARANG KE CABANG",
				category: "STORE OPERATIONS",
				description: "Prosedur peminjaman barang antar cabang.",
				scope: "• Permintaan pinjaman barang\n• Approval kedua cabang\n• Proses transfer barang\n• Pengembalian barang"
			},
			{ 
				code: "SOP-STORE-COL001", 
				title: "SOP PENGECEKAN ISI TINTA TINTER (COLORANT)",
				category: "STORE OPERATIONS",
				description: "Prosedur pengecekan isi tinta tinter untuk cat tinting.",
				scope: "• Monitoring level colorant\n• Proses refill tinter\n• Quality control warna\n• Pencatatan penggunaan"
			},
			{ 
				code: "SOP-STORE-DMG001", 
				title: "SOP BARANG RUSAK, TIDAK LENGKAP",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan barang rusak atau tidak lengkap.",
				scope: "• Identifikasi barang rusak\n• Pemisahan dari barang baik\n• Proses retur ke supplier\n• Dokumentasi kerusakan"
			},
			{ 
				code: "SOP-STORE-STK001", 
				title: "SOP PENGECEKAN STOK BARANG",
				category: "STORE OPERATIONS",
				description: "Prosedur pengecekan stok barang secara berkala.",
				scope: "• Jadwal pengecekan stok\n• Metode counting\n• Rekonsiliasi fisik vs sistem\n• Adjustment jika diperlukan"
			},
			{ 
				code: "SOP-STORE-SIC001", 
				title: "SOP IJIN PULANG CEPAT (SAKIT)",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan ijin pulang cepat karena sakit.",
				scope: "• Pengajuan ijin sakit\n• Persetujuan supervisor\n• Pencatatan absensi\n• Follow up kesehatan"
			},
			{ 
				code: "SOP-STORE-TRN001", 
				title: "SOP ABSENSI PULANG TRAINING",
				category: "STORE OPERATIONS",
				description: "Prosedur absensi untuk karyawan yang pulang setelah training.",
				scope: "• Konfirmasi jadwal training\n• Proses absensi pulang\n• Validasi sertifikat training\n• Update data training"
			},
			{ 
				code: "SOP-STORE-GPK001", 
				title: "SOP GIFT ATAU PAKET",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan gift atau paket untuk customer.",
				scope: "• Penerimaan gift dari supplier\n• Packaging yang menarik\n• Distribusi ke customer\n• Pencatatan pemberian"
			},
			{ 
				code: "SOP-STORE-TNT002", 
				title: "SOP CAT TINTING (Cat Campur)",
				category: "STORE OPERATIONS",
				description: "Prosedur pembuatan cat tinting atau cat campur.",
				scope: "• Penerimaan order tinting\n• Proses mixing warna\n• Quality control hasil\n• Pengemasan dan labeling"
			},
			{ 
				code: "SOP-STORE-TRF001", 
				title: "SOP TRANSFER IN TRANSFER OUT ANTAR TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur transfer barang antar toko.",
				scope: "• Permintaan transfer barang\n• Approval kedua toko\n• Proses picking dan packing\n• Penerimaan dan verifikasi"
			},
			{ 
				code: "SOP-STORE-EVL001", 
				title: "SOP PENILAIAN KARYAWAN TEST EVALUASI KARYAWAN BARU",
				category: "STORE OPERATIONS",
				description: "Prosedur penilaian dan evaluasi karyawan baru.",
				scope: "• Pelaksanaan test evaluasi\n• Penilaian kompetensi\n• Pembuatan laporan evaluasi\n• Rekomendasi kelulusan"
			},
			{ 
				code: "SOP-STORE-IDC001", 
				title: "SOP PEMBUATAN ID UNTUK KARYAWAN BARU",
				category: "STORE OPERATIONS",
				description: "Prosedur pembuatan ID card untuk karyawan baru.",
				scope: "• Pengumpulan data karyawan\n• Proses pembuatan ID card\n• Quality control ID card\n• Distribusi ke karyawan"
			},
			{ 
				code: "SOP-STORE-BTH001", 
				title: "SOP PEMASANGAN BOOTH",
				category: "STORE OPERATIONS",
				description: "Prosedur pemasangan booth untuk promosi atau event.",
				scope: "• Perencanaan layout booth\n• Persiapan material\n• Proses instalasi\n• Safety check"
			},
			{ 
				code: "SOP-STORE-PRC001", 
				title: "SOP PERUBAHAN HARGA",
				category: "STORE OPERATIONS",
				description: "Prosedur perubahan harga barang.",
				scope: "• Pengumuman perubahan harga\n• Update label harga\n• Update sistem POS\n• Sosialisasi ke staff"
			},
			{ 
				code: "SOP-STORE-HOM001", 
				title: "SOP BELANJA DARI RUMAH",
				category: "STORE OPERATIONS",
				description: "Prosedur layanan belanja dari rumah untuk customer.",
				scope: "• Penerimaan order via telepon/online\n• Proses picking barang\n• Packaging dan labeling\n• Delivery atau pickup"
			},
			{ 
				code: "SOP-STORE-POC001", 
				title: "SOP PEMBUATAN PO",
				category: "STORE OPERATIONS",
				description: "Prosedur pembuatan Purchase Order.",
				scope: "• Pengajuan kebutuhan barang\n• Approval budget\n• Pembuatan PO sistem\n• Follow up ke supplier"
			},
			{ 
				code: "SOP-STORE-IDC002", 
				title: "SOP ID CARD",
				category: "STORE OPERATIONS",
				description: "Prosedur pengelolaan ID card karyawan.",
				scope: "• Pembuatan ID card baru\n• Replacement ID card rusak/hilang\n• Pengumpulan ID card resign\n• Security control"
			},
			{ 
				code: "SOP-STORE-PRM001", 
				title: "SOP PENGECEKAN LIST PROMO KATALOG",
				category: "STORE OPERATIONS",
				description: "Prosedur pengecekan daftar promo di katalog.",
				scope: "• Review katalog promo\n• Verifikasi harga promo\n• Sosialisasi ke sales\n• Monitoring implementasi"
			},
			{ 
				code: "SOP-STORE-FAC001", 
				title: "SOP PENGEMBALIAN FASILITAS PERUSAHAAN",
				category: "STORE OPERATIONS",
				description: "Prosedur pengembalian fasilitas perusahaan saat resign/mutasi.",
				scope: "• Inventarisasi fasilitas\n• Pengecekan kondisi\n• Proses pengembalian\n• Tanda terima pengembalian"
			},
			{ 
				code: "SOP-STORE-SPG001", 
				title: "SOP PENERIMAAN SPG",
				category: "STORE OPERATIONS",
				description: "Prosedur penerimaan dan penugasan Sales Promotion Girl.",
				scope: "• Briefing SPG\n• Penugasan area kerja\n• Monitoring kinerja\n• Evaluasi dan pembayaran"
			},
			{ 
				code: "SOP-STORE-5S001", 
				title: "SOP 5S (Senyum, Salam, Sapa, Sopan, Santun)",
				category: "STORE OPERATIONS",
				description: "Prosedur implementasi 5S dalam pelayanan customer.",
				scope: "• Training 5S untuk staff\n• Monitoring implementasi\n• Evaluasi pelayanan\n• Continuous improvement"
			},
			{ 
				code: "SOP-STORE-LTE001", 
				title: "SOP KETERLAMBATAN KARYAWAN",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan keterlambatan karyawan.",
				scope: "• Recording keterlambatan\n• Proses warning/sanksi\n• Coaching karyawan\n• Pencegahan keterlambatan"
			},
			{ 
				code: "SOP-STORE-LTE002", 
				title: "SOP KETERLAMBATAN KARYAWAN",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan keterlambatan karyawan (versi detil).",
				scope: "• Sistem poin keterlambatan\n• Eskalasi sanksi\n• Appeal process\n• Rekonsiliasi absensi"
			},
			{ 
				code: "SOP-STORE-ITR002", 
				title: "SOP PERMINTAAN KE IT",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan permintaan bantuan ke divisi IT.",
				scope: "• Pengajuan trouble ticket\n• Prioritas penanganan\n• Follow up progres\n• Closing ticket"
			},
			{ 
				code: "SOP-STORE-POP001", 
				title: "SOP PEMASANGAN POP",
				category: "STORE OPERATIONS",
				description: "Prosedur pemasangan Point of Purchase materials.",
				scope: "• Perencanaan layout POP\n• Produksi materials\n• Proses instalasi\n• Maintenance dan update"
			},
			{ 
				code: "SOP-STORE-PRC002", 
				title: "SOP PENEMPELAN PRICE CARD",
				category: "STORE OPERATIONS",
				description: "Prosedur penempelan dan update price card.",
				scope: "• Pembuatan price card\n• Verifikasi harga\n• Proses penempelan\n• Quality check"
			},
			{ 
				code: "SOP-STORE-OPC001", 
				title: "SOP BUKA TUTUP TOKO (LAMPU, ESKALATOR, AC, LIFT BARANG)",
				category: "STORE OPERATIONS",
				description: "Prosedur buka tutup toko termasuk pengelolaan peralatan.",
				scope: "• Checklist buka toko\n• Proses nyala mati peralatan\n• Safety check\n• Security procedure"
			},
			{ 
				code: "SOP-STORE-BRF001", 
				title: "SOP BREAFING TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur pelaksanaan briefing harian di toko.",
				scope: "• Persiapan materi briefing\n• Jadwal briefing\n• Partisipasi staff\n• Dokumentasi hasil"
			},
			{ 
				code: "SOP-STORE-EXT001", 
				title: "SOP IZIN KELUAR TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur permintaan ijin keluar toko selama jam kerja.",
				scope: "• Pengajuan ijin keluar\n• Persetujuan supervisor\n• Pencatatan waktu keluar/masuk\n• Validasi kebutuhan"
			},
			{ 
				code: "SOP-STORE-OPC002", 
				title: "SOP BUKA TUTUP TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur standar buka dan tutup toko.",
				scope: "• Opening procedure\n• Cash register setup\n• Closing procedure\n• Security protocol"
			},
			{ 
				code: "SOP-STORE-ACC001", 
				title: "SOP MASUK KELUAR TOKO BAGI KARYAWAN",
				category: "STORE OPERATIONS",
				description: "Prosedur masuk dan keluar toko untuk karyawan.",
				scope: "• Absensi masuk kerja\n• Proses keluar istirahat\n• Security check\n• Pencatatan waktu"
			},
			{ 
				code: "SOP-STORE-OPL001", 
				title: "SOP KETERLAMBATAN BUKA TOKO",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan keterlambatan buka toko.",
				scope: "• Notifikasi keterlambatan\n• Alasan dan penjelasan\n• Tindakan corrective\n• Pelaporan ke management"
			},
			{ 
				code: "SOP-STORE-SPN001", 
				title: "SOP PEMBERIAN SP",
				category: "STORE OPERATIONS",
				description: "Prosedur pemberian Surat Peringatan (SP) kepada karyawan.",
				scope: "• Investigasi pelanggaran\n• Proses pemberian SP\n• Tanda tangan penerimaan\n• Follow up improvement"
			},
			{ 
				code: "SOP-STORE-ABR001", 
				title: "SOP KRITERIA ABSEN R",
				category: "STORE OPERATIONS",
				description: "Prosedur dan kriteria absen R (keterangan tertentu).",
				scope: "• Definisi absen R\n• Proses pengajuan\n• Validasi dan approval\n• Pencatatan di sistem"
			},
			{ 
				code: "SOP-STORE-PRY001", 
				title: "SOP SHOLAT JUMAT",
				category: "STORE OPERATIONS",
				description: "Prosedur pengaturan waktu sholat Jumat untuk karyawan muslim.",
				scope: "• Jadwal sholat Jumat\n• Pengaturan shift\n• Koordinasi dengan masjid\n• Pencatatan kehadiran"
			},
			{ 
				code: "SOP-STORE-BRK001", 
				title: "SOP JAM ISTIRAHAT",
				category: "STORE OPERATIONS",
				description: "Prosedur pengaturan jam istirahat karyawan.",
				scope: "• Jadwal istirahat\n• Rotasi shift istirahat\n• Penjagaan pos saat istirahat\n• Pencatatan waktu"
			},
			{ 
				code: "SOP-STORE-DNT001", 
				title: "SOP SUMBANGAN RT/RW",
				category: "STORE OPERATIONS",
				description: "Prosedur penanganan permintaan sumbangan untuk RT/RW.",
				scope: "• Verifikasi permintaan sumbangan\n• Approval manajemen\n• Proses pencairan dana\n• Dokumentasi penerimaan"
			},
			{ 
				code: "SOP-STORE-EMP002", 
				title: "SOP DATA KARYAWAN BARU",
				category: "STORE OPERATIONS",
				description: "Prosedur pengumpulan dan pengelolaan data karyawan baru.",
				scope: "• Pengumpulan dokumen\n• Input data ke sistem\n• Verifikasi kelengkapan\n• Filing dan arsip"
			},
			{ 
				code: "SOP-STORE-ATK001", 
				title: "SOP PENGAJUAN ATK",
				category: "STORE OPERATIONS",
				description: "Prosedur pengajuan kebutuhan Alat Tulis Kantor (ATK).",
				scope: "• Identifikasi kebutuhan ATK\n• Pengajuan permintaan\n• Approval supervisor\n• Distribusi ATK"
			},

			// HRD
			{ 
				code: "SOP-HRD-TST001", 
				title: "SOP SYARAT MENGIKUTI TEST",
				category: "HRD",
				description: "Prosedur dan persyaratan untuk mengikuti test recruitment.",
				scope: "• Persyaratan administrasi\n• Jadwal test\n• Proses seleksi\n• Pengumuman hasil"
			},
			{ 
				code: "SOP-HRD-TER001", 
				title: "SOP PEMUTUSAN HUBUNGAN KERJA",
				category: "HRD",
				description: "Prosedur pemutusan hubungan kerja karyawan.",
				scope: "• Proses terminasi\n• Perhitungan hak karyawan\n• Exit clearance\n• Final settlement"
			},
			{ 
				code: "SOP-HRD-KPI001", 
				title: "SOP PENILAIAN DAN HASIL KPI",
				category: "HRD",
				description: "Prosedur penilaian kinerja dan pengelolaan hasil KPI.",
				scope: "• Penetapan target KPI\n• Proses penilaian\n• Review hasil\n• Action plan improvement"
			},
			{ 
				code: "SOP-HRD-TRN002", 
				title: "SOP MENGIKUTI TRAINING",
				category: "HRD",
				description: "Prosedur pengajuan dan pelaksanaan training untuk karyawan.",
				scope: "• Pengajuan training\n• Approval manajemen\n• Pelaksanaan training\n• Evaluasi hasil"
			},

			// MARKETING
			{ 
				code: "SOP-MKT-SOC001", 
				title: "SOP LIKE SHARE SOSMED",
				category: "MARKETING",
				description: "Prosedur kampanye like dan share di media sosial.",
				scope: "• Perencanaan konten\n• Penjadwalan posting\n• Monitoring engagement\n• Analisis hasil"
			},
			{ 
				code: "SOP-MKT-ONL002", 
				title: "SOP PENJUALAN ONLINE (TIKTOK, INSTAGRAM, TOKPED, SHOPEE)",
				category: "MARKETING",
				description: "Prosedur penjualan online melalui berbagai platform e-commerce.",
				scope: "• Management akun online\n• Proses order online\n• Fulfillment dan shipping\n• Customer service online"
}
        ];

        // Inisialisasi aplikasi setelah login
        function initializeApp() {
            // DOM Elements
            const companyName = document.getElementById('companyName');
            const logoUrl = document.getElementById('logoUrl');
            const sopTitle = document.getElementById('sopTitle');
            const docType = document.getElementById('docType');
            const docNumber = document.getElementById('docNumber');
            const description = document.getElementById('description');
            const scope = document.getElementById('scope');
            const promptOutput = document.getElementById('promptOutput');
            const generateBtn = document.getElementById('generateBtn');
            const copyBtn = document.getElementById('copyBtn');
            const deepseekBtn = document.getElementById('deepseekBtn');
            const flowchartBtn = document.getElementById('flowchartBtn');
            const clearSelection = document.getElementById('clearSelection');
            const successMessage = document.getElementById('successMessage');
            const flowchartInfo = document.getElementById('flowchartInfo');
            const sopOptions = document.getElementById('sopOptions');
            const sopCount = document.getElementById('sopCount');
            const flowchartPreview = document.getElementById('flowchartPreview');
            const flowchartContainer = document.getElementById('flowchartContainer');
            const flowchartSvg = document.getElementById('flowchartSvg');
            const flowchartSteps = document.getElementById('flowchartSteps');
            const openFlowchartBuilderBtn = document.getElementById('openFlowchartBuilderBtn');
            const copyFlowchartBtn = document.getElementById('copyFlowchartBtn');
            
            // DOM Elements untuk search
            const sopSearch = document.getElementById('sopSearch');
            const resetSearch = document.getElementById('resetSearch');
            const searchResults = document.getElementById('searchResults');
            const searchCount = document.getElementById('searchCount');
            
            // State untuk flowchart
            let currentFlowchartData = null;
            let currentSvgCode = '';
            
            // State untuk search
            let currentSearchTerm = '';
            let searchMatches = [];

            // Initialize SOP data - FUNGSI YANG DIPERBAIKI (FIXED)
            function initializeSOPData() {
                // Update count
                sopCount.textContent = sopData.length;
                
                // Populate datalist
                sopData.forEach(sop => {
                    const option = document.createElement('option');
                    option.value = `${sop.code} - ${sop.title}`;
                    option.setAttribute('data-code', sop.code);
                    option.setAttribute('data-title', sop.title);
                    option.setAttribute('data-category', sop.category);
                    sopOptions.appendChild(option);
                });
                
                // Kosongkan semua container terlebih dahulu
                document.getElementById('hrdSops').innerHTML = '';
                document.getElementById('gaSops').innerHTML = '';
                document.getElementById('faSops').innerHTML = '';
                document.getElementById('storeSops').innerHTML = '';
                document.getElementById('purchasingSops').innerHTML = '';
                document.getElementById('projectSops').innerHTML = '';
                document.getElementById('marketingSops').innerHTML = '';
                document.getElementById('vmSops').innerHTML = '';
                document.getElementById('securitySops').innerHTML = '';
                
                // Display SOPs in their respective categories - LOGIC DIPERBAIKI
                sopData.forEach(sop => {
                    let container = null;
                    const category = sop.category.toUpperCase(); // Convert ke uppercase untuk konsistensi
                    
                    // Tentukan container berdasarkan kategori - LOGIC YANG LEBIH AKURAT
                    if (category.includes('HRD')) {
                        container = document.getElementById('hrdSops');
                    } else if (category.includes('GA') || category.includes('GENERAL')) {
                        container = document.getElementById('gaSops');
                    } else if (category.includes('FINANCE') || category.includes('FA') || category.includes('ACCOUNTING')) {
                        container = document.getElementById('faSops');
                    } else if (category.includes('STORE')) {
                        container = document.getElementById('storeSops');
                    } else if (category.includes('PURCHASING') || category.includes('PB')) {
                        container = document.getElementById('purchasingSops');
                    } else if (category.includes('PROJECT') || category.includes('PS')) {
                        container = document.getElementById('projectSops');
                    } else if (category.includes('MARKETING') || category.includes('MKT')) {
                        container = document.getElementById('marketingSops');
                    } else if (category.includes('VISUAL') || category.includes('VM')) {
                        container = document.getElementById('vmSops');
                    } else if (category.includes('SECURITY') || category.includes('SEC')) {
                        container = document.getElementById('securitySops');
                    } else {
                        console.warn('Kategori tidak dikenal:', sop.category);
                    }
                    
                    // Jika container ditemukan, tambahkan SOP item
                    if (container) {
                        const sopItem = document.createElement('div');
                        sopItem.className = 'sop-item';
                        sopItem.innerHTML = `<strong>${sop.code}</strong>: ${sop.title}`;
                        sopItem.style.cursor = 'pointer';
                        
                        // Simpan HTML asli untuk keperluan search
                        sopItem.setAttribute('data-original', `<strong>${sop.code}</strong>: ${sop.title}`);
                        
                        sopItem.addEventListener('click', () => {
                            selectSOP(sop);
                        });
                        container.appendChild(sopItem);
                    }
                });
                
                // Initialize search info
                updateSearchInfo(sopData.length, true);
            }

            // Fungsi untuk melakukan pencarian
            function performSearch(searchTerm) {
                currentSearchTerm = searchTerm.toLowerCase().trim();
                searchMatches = [];
                
                if (!currentSearchTerm) {
                    // Reset pencarian
                    resetSearchUI();
                    return;
                }
                
                // Reset semua kategori dan item
                const allCategories = document.querySelectorAll('.sop-category');
                const allItems = document.querySelectorAll('.sop-item');
                
                allCategories.forEach(cat => {
                    cat.classList.remove('hidden', 'filtered');
                });
                
                allItems.forEach(item => {
                    item.classList.remove('hidden', 'highlighted');
                    item.innerHTML = item.getAttribute('data-original') || item.innerHTML;
                });
                
                // Filter SOP items
                let matchCount = 0;
                const categories = document.querySelectorAll('.sop-category');
                
                categories.forEach(category => {
                    const items = category.querySelectorAll('.sop-item');
                    let categoryMatchCount = 0;
                    
                    items.forEach(item => {
                        const text = item.textContent.toLowerCase();
                        const code = item.querySelector('strong')?.textContent.toLowerCase() || '';
                        
                        // Simpan HTML asli jika belum ada
                        if (!item.hasAttribute('data-original')) {
                            item.setAttribute('data-original', item.innerHTML);
                        }
                        
                        if (text.includes(currentSearchTerm) || code.includes(currentSearchTerm)) {
                            // Highlight teks yang cocok
                            const originalHTML = item.getAttribute('data-original');
                            const highlightedHTML = highlightText(originalHTML, currentSearchTerm);
                            item.innerHTML = highlightedHTML;
                            
                            item.classList.remove('hidden');
                            item.classList.add('highlighted');
                            searchMatches.push(item);
                            matchCount++;
                            categoryMatchCount++;
                        } else {
                            item.classList.add('hidden');
                            item.classList.remove('highlighted');
                        }
                    });
                    
                    // Tampilkan/sembunyikan kategori berdasarkan hasil
                    if (categoryMatchCount === 0) {
                        category.classList.add('hidden');
                    } else {
                        category.classList.remove('hidden');
                        category.classList.add('filtered');
                    }
                });
                
                // Update info pencarian
                updateSearchInfo(matchCount);
            }

            // Fungsi untuk highlight teks
            function highlightText(text, searchTerm) {
                if (!searchTerm) return text;
                
                const regex = new RegExp(`(${searchTerm})`, 'gi');
                return text.replace(regex, '<span class="search-highlight">$1</span>');
            }

            // Fungsi untuk reset UI pencarian
            function resetSearchUI() {
                const allCategories = document.querySelectorAll('.sop-category');
                const allItems = document.querySelectorAll('.sop-item');
                
                allCategories.forEach(cat => {
                    cat.classList.remove('hidden', 'filtered');
                });
                
                allItems.forEach(item => {
                    item.classList.remove('hidden', 'highlighted');
                    // Kembalikan HTML asli
                    const originalHTML = item.getAttribute('data-original');
                    if (originalHTML) {
                        item.innerHTML = originalHTML;
                    }
                });
                
                updateSearchInfo(sopData.length, true);
            }

            // Fungsi untuk update info pencarian
            function updateSearchInfo(count, isAll = false) {
                if (isAll || !currentSearchTerm) {
                    searchResults.textContent = 'Menampilkan semua SOP';
                    searchCount.textContent = '';
                } else {
                    searchResults.textContent = `Hasil pencarian untuk: "${currentSearchTerm}"`;
                    searchCount.textContent = `${count} hasil ditemukan`;
                }
            }

            // Select SOP from dropdown or list
            function selectSOP(sop) {
                sopTitle.value = `${sop.code} - ${sop.title}`;
                docNumber.value = sop.code;
                description.value = sop.description;
                scope.value = sop.scope;
                
                // Update display
                document.getElementById('selectedSopCode').style.display = 'block';
                document.getElementById('sopCodeDisplay').textContent = sop.code;
                document.getElementById('sopCategoryDisplay').textContent = sop.category.split(' - ')[0];
                
                // Generate prompt automatically
                generatePrompt();
                
                // Reset flowchart preview jika dokumen type bukan full template
                if (docType.value !== 'full_template') {
                    flowchartPreview.style.display = 'none';
                    flowchartInfo.style.display = 'none';
                }
                
                // Reset pencarian jika ada
                if (currentSearchTerm) {
                    sopSearch.value = '';
                    resetSearchUI();
                }
            }

            // Clear selection
            function clearSOPSelection() {
                sopTitle.value = '';
                docNumber.value = '';
                description.value = '';
                scope.value = '';
                document.getElementById('selectedSopCode').style.display = 'none';
                generatePrompt();
                flowchartPreview.style.display = 'none';
                flowchartInfo.style.display = 'none';
            }

            // Handle input changes for manual typing
            function handleManualInput() {
                const value = sopTitle.value;
                const selectedOption = Array.from(sopOptions.options).find(opt => 
                    opt.value === value || `${opt.getAttribute('data-code')} - ${opt.getAttribute('data-title')}` === value
                );
                
                if (selectedOption) {
                    // Found in list
                    const sop = sopData.find(s => s.code === selectedOption.getAttribute('data-code'));
                    if (sop) {
                        selectSOP(sop);
                    }
                } else {
                    // Manual input
                    document.getElementById('selectedSopCode').style.display = 'none';
                    if (value.trim()) {
                        // Auto-generate doc number based on input
                        const valueLower = value.toLowerCase();
                        let prefix = 'SOP';
                        
                        if (valueLower.includes('hr') || valueLower.includes('sdm')) prefix = 'SOP-HRD';
                        else if (valueLower.includes('ga') || valueLower.includes('general')) prefix = 'SOP-GA';
                        else if (valueLower.includes('finance') || valueLower.includes('accounting') || valueLower.includes('fa')) prefix = 'SOP-FA';
                        else if (valueLower.includes('store') || valueLower.includes('toko')) prefix = 'SOP-STORE';
                        else if (valueLower.includes('purchasing') || valueLower.includes('pembelian') || valueLower.includes('pb')) prefix = 'SOP-PB';
                        else if (valueLower.includes('project') || valueLower.includes('proyek') || valueLower.includes('ps')) prefix = 'SOP-PS';
                        else if (valueLower.includes('marketing') || valueLower.includes('mkt')) prefix = 'SOP-MKT';
                        else if (valueLower.includes('visual') || valueLower.includes('vm')) prefix = 'SOP-VM';
                        else if (valueLower.includes('security') || valueLower.includes('sekuriti') || valueLower.includes('sec')) prefix = 'SOP-SEC';
                        
                        const randomNum = Math.floor(Math.random() * 90) + 10;
                        docNumber.value = `${prefix}-${randomNum}`;
                    }
                    generatePrompt();
                }
            }

            // Generate Document Number
            function generateDocNumber() {
                if (docNumber.value.trim()) {
                    return docNumber.value.trim();
                }
                
                const title = sopTitle.value.trim().toLowerCase();
                let prefix = 'SOP';
                
                if (title.includes('hr') || title.includes('sdm')) prefix = 'SOP-HRD';
                else if (title.includes('ga') || title.includes('general')) prefix = 'SOP-GA';
                else if (title.includes('finance') || title.includes('accounting') || title.includes('fa')) prefix = 'SOP-FA';
                else if (title.includes('store') || title.includes('toko')) prefix = 'SOP-STORE';
                else if (title.includes('purchasing') || title.includes('pembelian') || title.includes('pb')) prefix = 'SOP-PB';
                else if (title.includes('project') || title.includes('proyek') || title.includes('ps')) prefix = 'SOP-PS';
                else if (title.includes('marketing') || title.includes('mkt')) prefix = 'SOP-MKT';
                else if (title.includes('visual') || title.includes('vm')) prefix = 'SOP-VM';
                else if (title.includes('security') || title.includes('sekuriti') || title.includes('sec')) prefix = 'SOP-SEC';
                
                const num = Math.floor(Math.random() * 90) + 10;
                return `${prefix}-${num}`;
            }

            // Generate Flowchart Steps dari Deskripsi SOP
            function extractFlowchartSteps() {
                const title = sopTitle.value.trim() || 'Prosedur Operasional';
                const desc = description.value.trim() || '';
                const scopeText = scope.value.trim();
                
                // Ekstrak langkah-langkah dari deskripsi dan scope
                const allText = desc + '\n' + scopeText;
                const lines = allText.split('\n');
                
                const steps = [];
                
                // Cari langkah-langkah dalam teks
                lines.forEach(line => {
                    const trimmed = line.trim();
                    
                    // Deteksi bullet points dengan • atau angka
                    if (trimmed.startsWith('•') || trimmed.startsWith('-') || 
                        /^\d+[\.\)]/.test(trimmed) || 
                        /^\[Langkah\s+\d+\]/.test(trimmed)) {
                        
                        // Bersihkan formatting
                        let cleanStep = trimmed
                            .replace(/^[•\-]\s*/, '')
                            .replace(/^\d+[\.\)]\s*/, '')
                            .replace(/^\[Langkah\s+\d+\]\s*[:-]?\s*/, '')
                            .trim();
                        
                        if (cleanStep && cleanStep.length > 5) {
                            steps.push(cleanStep);
                        }
                    }
                });
                
                // Jika tidak ditemukan bullet points, coba split berdasarkan kata kunci
                if (steps.length === 0) {
                    const keywords = ['proses', 'langkah', 'tahap', 'step', 'phase', 'stage'];
                    const sentences = allText.split(/[\.;,]/);
                    
                    sentences.forEach(sentence => {
                        if (sentence.trim().length > 20) {
                            // Cek jika mengandung kata kunci proses
                            const hasKeyword = keywords.some(keyword => 
                                sentence.toLowerCase().includes(keyword)
                            );
                            
                            if (hasKeyword || steps.length < 5) {
                                steps.push(sentence.trim());
                            }
                        }
                    });
                }
                
                // Batasi maksimal 8 langkah untuk flowchart
                const limitedSteps = steps.slice(0, 8);
                
                // Jika masih kosong, buat langkah default
                if (limitedSteps.length === 0) {
                    return [
                        'Analisis Kebutuhan',
                        'Perencanaan',
                        'Persiapan',
                        'Implementasi',
                        'Monitoring',
                        'Evaluasi'
                    ];
                }
                
                return limitedSteps;
            }

            // Generate SVG Flowchart
            function generateFlowchartSVG(steps) {
                const numSteps = steps.length;
                if (numSteps === 0) return '';
                
                const width = 800;
                const height = 200;
                const stepWidth = 140;
                const stepHeight = 60;
                const stepSpacing = 40;
                const startX = 50;
                const startY = 100;
                
                let svg = `<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}" xmlns="http://www.w3.org/2000/svg">`;
                
                // Define styles
                svg += `
                <defs>
                    <style>
                        .flowchart-rect { fill: #4a7c59; stroke: #2c5530; stroke-width: 2; rx: 8; ry: 8; }
                        .flowchart-text { fill: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 12px; text-anchor: middle; }
                        .flowchart-arrow { fill: none; stroke: #2c5530; stroke-width: 2; marker-end: url(#arrowhead); }
                        .flowchart-start { fill: #2c5530; rx: 15; ry: 15; }
                        .flowchart-end { fill: #2c5530; rx: 15; ry: 15; }
                    </style>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#2c5530" />
                    </marker>
                </defs>
                `;
                
                // Start circle
                svg += `<rect x="${startX - 20}" y="${startY - 20}" width="40" height="40" class="flowchart-start" />`;
                svg += `<text x="${startX}" y="${startY + 5}" class="flowchart-text">Start</text>`;
                
                // Draw steps
                for (let i = 0; i < numSteps; i++) {
                    const x = startX + 80 + i * (stepWidth + stepSpacing);
                    const y = startY - stepHeight / 2;
                    
                    // Rectangle for step
                    svg += `<rect x="${x}" y="${y}" width="${stepWidth}" height="${stepHeight}" class="flowchart-rect" />`;
                    
                    // Step text (dipotong jika terlalu panjang)
                    const stepText = steps[i];
                    const truncatedText = stepText.length > 30 ? stepText.substring(0, 27) + '...' : stepText;
                    
                    // Split text untuk multiple lines
                    const words = truncatedText.split(' ');
                    const lines = [];
                    let currentLine = '';
                    
                    for (const word of words) {
                        if ((currentLine + ' ' + word).length <= 20) {
                            currentLine += (currentLine ? ' ' : '') + word;
                        } else {
                            if (currentLine) lines.push(currentLine);
                            currentLine = word;
                        }
                    }
                    if (currentLine) lines.push(currentLine);
                    
                    // Render text lines
                    const lineHeight = 14;
                    const textY = y + stepHeight / 2 - ((lines.length - 1) * lineHeight) / 2;
                    
                    lines.forEach((line, idx) => {
                        svg += `<text x="${x + stepWidth / 2}" y="${textY + idx * lineHeight}" class="flowchart-text">${line}</text>`;
                    });
                    
                    // Step number
                    svg += `<text x="${x + 10}" y="${y + 15}" class="flowchart-text" font-size="10">${i + 1}</text>`;
                    
                    // Arrow from previous step
                    if (i === 0) {
                        // Arrow from start to first step
                        svg += `<line x1="${startX + 20}" y1="${startY}" x2="${x}" y2="${startY}" class="flowchart-arrow" />`;
                    } else {
                        // Arrow between steps
                        const prevX = startX + 80 + (i - 1) * (stepWidth + stepSpacing) + stepWidth;
                        svg += `<line x1="${prevX}" y1="${startY}" x2="${x}" y2="${startY}" class="flowchart-arrow" />`;
                    }
                }
                
                // End circle
                const lastX = startX + 80 + (numSteps - 1) * (stepWidth + stepSpacing) + stepWidth;
                svg += `<rect x="${lastX + 20}" y="${startY - 20}" width="40" height="40" class="flowchart-end" />`;
                svg += `<text x="${lastX + 40}" y="${startY + 5}" class="flowchart-text">End</text>`;
                svg += `<line x1="${lastX}" y1="${startY}" x2="${lastX + 20}" y2="${startY}" class="flowchart-arrow" />`;
                
                svg += '</svg>';
                return svg;
            }

            // Generate Flowchart
            function generateFlowchart() {
                const title = sopTitle.value.trim();
                if (!title) {
                    alert('Silakan pilih atau masukkan judul SOP terlebih dahulu!');
                    return;
                }
                
                const steps = extractFlowchartSteps();
                const svgCode = generateFlowchartSVG(steps);
                
                // Simpan data flowchart
                currentFlowchartData = {
                    title: title,
                    steps: steps,
                    svgCode: svgCode,
                    generatedAt: new Date().toISOString()
                };
                
                currentSvgCode = svgCode;
                
                // Tampilkan preview
                flowchartSvg.innerHTML = svgCode;
                
                // Tampilkan steps sebagai text
                flowchartSteps.innerHTML = '';
                steps.forEach((step, index) => {
                    const stepElement = document.createElement('div');
                    stepElement.className = 'flowchart-step';
                    stepElement.innerHTML = `
                        <span>${index + 1}.</span> ${step}
                        ${index < steps.length - 1 ? '<span class="flowchart-arrow">→</span>' : ''}
                    `;
                    flowchartSteps.appendChild(stepElement);
                });
                
                // Tampilkan section flowchart
                flowchartPreview.style.display = 'block';
                flowchartInfo.style.display = 'block';
                
                // Scroll ke flowchart preview
                flowchartPreview.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
                // Jika dokumen type adalah full template, update prompt
                if (docType.value === 'full_template') {
                    generatePrompt();
                }
            }

            // Open Flowchart Builder
            function openFlowchartBuilder() {
                if (!currentFlowchartData) {
                    alert('Silakan generate flowchart terlebih dahulu!');
                    return;
                }
                
                // Encode data untuk dikirim ke flowchart builder
                const data = {
                    title: sopTitle.value.trim(),
                    description: description.value.trim(),
                    steps: currentFlowchartData.steps,
                    company: companyName.value.trim(),
                    docNumber: generateDocNumber()
                };
                
                const encodedData = encodeURIComponent(JSON.stringify(data));
                
                // Buka flowchart builder dengan data
                window.open(`https://grandmitra.github.io/flowsop/?data=${encodedData}`, '_blank');
            }

            // Copy Flowchart Code
            function copyFlowchartCode() {
                if (!currentSvgCode) {
                    alert('Tidak ada kode flowchart untuk disalin!');
                    return;
                }
                
                navigator.clipboard.writeText(currentSvgCode).then(() => {
                    showSuccess('✓ Kode SVG flowchart berhasil disalin ke clipboard!');
                }).catch(err => {
                    console.error('Gagal menyalin: ', err);
                    // Fallback
                    const textArea = document.createElement('textarea');
                    textArea.value = currentSvgCode;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    showSuccess('✓ Kode SVG flowchart berhasil disalin (fallback)!');
                });
            }

            // Generate Full Template Prompt dengan Flowchart
            function generateFullTemplatePrompt(title, docNum, desc, scopeText) {
                const company = companyName.value.trim() || 'GrandMitra - Supermarket Bahan Bangunan';
                const logo = logoUrl.value.trim() || 'https://grandmitra.com/wp-content/uploads/2024/09/gm-1536x328.png';
                
                // Tambahkan flowchart code jika ada
                let flowchartSection = '';
                if (currentSvgCode && docType.value === 'full_template') {
                    flowchartSection = `
<!-- ================= FLOWCHART PROSES ================= -->
<section>
<h2>4A. FLOWCHART PROSES ${title.toUpperCase()}</h2>
<div style="overflow-x: auto; margin: 20px 0;">
${currentSvgCode}
</div>
<div style="font-size: 12px; color: #666; text-align: center; margin-top: 10px;">
<em>Diagram alur proses ${title}</em>
</div>
</section>
`;
                }
                
                return `Buatkan Standard Operating Procedure (SOP) dan Instruksi Kerja (IK) dalam format HTML lengkap dengan semua template tabel seperti contoh https://grandmitra.github.io/flowsop/ untuk "${title}".

INFORMASI DOKUMEN:
- No. Dokumen: ${docNum} dan ${docNum}-IK
- Tgl Berlaku: 1 Januari 2026
- Revisi: 01
- Halaman: 1/1
- Nama Perusahaan: ${company}

DESKRIPSI: ${desc}
${scopeText ? '\nRUANG LINGKUP:\n' + scopeText : ''}

${currentFlowchartData ? `\nFLOWCHART STEPS:\n${currentFlowchartData.steps.map((step, i) => `${i+1}. ${step}`).join('\n')}` : ''}

STRUKTUR DOKUMEN (SAMA PERSIS DENGAN CONTOH):

<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SOP & IK ${title}</title>
<style>
/* CSS SAMA PERSIS DENGAN CONTOH */
body {font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif; margin:20px; color:#000;}
.header {display:flex; align-items:center; border-bottom:4px solid #2c5530; padding-bottom:10px;}
.header img {max-width:220px;}
.header .doc-info {margin-left:auto; text-align:right; font-size:14px;}
h1,h2,h3 {color:#2c5530;}
h1 {text-align:center; margin-top:20px;}
section {margin-top:20px;}
table {width:100%; border-collapse:collapse; margin-top:10px;}
th, td {border:1px solid #999; padding:8px; vertical-align:top;}
th {background:#4a7c59; color:#fff;}
.footer {margin-top:40px; font-size:12px; text-align:center; border-top:2px solid #2c5530; padding-top:10px;}
.print-btn {margin-top:20px; text-align:center;}
.print-btn button {background:#2c5530; color:#fff; border:none; padding:10px 20px; font-size:14px; cursor:pointer;}
.print-btn button:hover {background:#4a7c59;}
.warning {color:#b30000; font-weight:bold;}
@media print {.print-btn {display:none;} body {margin:10mm;}}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <img src="${logo}" alt="Logo ${company.split(' - ')[0]}">
  <div class="doc-info">
    <strong>No. Dokumen:</strong> ${docNum}<br>
    <strong>Tgl Berlaku:</strong> 1 Januari 2026<br>
    <strong>Revisi:</strong> 01<br>
    <strong>Halaman:</strong> 1/1
  </div>
</div>

<h1>STANDARD OPERATING PROCEDURE (SOP)<br>${title}</h1>

<!-- ================= TUJUAN ================= -->
<section><h2>1. TUJUAN</h2><ul>[ISI 4-5 poin tujuan yang relevan dengan "${title}"]</ul></section>

<!-- ================= RUANG LINGKUP ================= -->
<section><h2>2. RUANG LINGKUP</h2><p>[Jelaskan cakupan prosedur "${title}"]</p></section>

<!-- ================= DEFINISI ================= -->
<section><h2>3. DEFINISI</h2><ul>[Daftar 3-5 istilah penting terkait "${title}"]</ul></section>

<!-- ================= ALUR PROSES ================= -->
<section><h2>4. ALUR PROSES</h2>
<table>
<thead>
<tr><th>No</th><th>Langkah</th><th>Deskripsi</th><th>Penanggung Jawab</th><th>Dokumen Terkait</th></tr>
</thead>
<tbody>
${currentFlowchartData ? currentFlowchartData.steps.map((step, i) => `
<tr>
<td>${i+1}</td>
<td>${step.split(' ').slice(0, 3).join(' ')}...</td>
<td>${step}</td>
<td>[Penanggung Jawab]</td>
<td>[Dokumen]</td>
</tr>`).join('') : `
<tr><td>1</td><td>Persiapan</td><td>Langkah persiapan untuk ${title}</td><td>[Penanggung Jawab]</td><td>[Dokumen]</td></tr>
<tr><td>2</td><td>Pelaksanaan</td><td>Langkah pelaksanaan ${title}</td><td>[Penanggung Jawab]</td><td>[Dokumen]</td></tr>
<tr><td>3</td><td>Monitoring</td><td>Langkah monitoring ${title}</td><td>[Penanggung Jawab]</td><td>[Dokumen]</td></tr>
<tr><td>4</td><td>Evaluasi</td><td>Langkah evaluasi ${title}</td><td>[Penanggung Jawab]</td><td>[Dokumen]</td></tr>`}
</tbody>
</table>
</section>

${flowchartSection}

<!-- ================= DOKUMEN TERKAIT ================= -->
<section><h2>5. DOKUMEN TERKAIT</h2><ul>[Daftar dokumen terkait ${title}]</ul></section>

<!-- ================= PENANGGUNG JAWAB ================= -->
<section><h2>6. PENANGGUNG JAWAB</h2><ul>[Penanggung jawab ${title}]</ul></section>

<!-- ================= IK ================= -->
<hr><h1>INSTRUKSI KERJA (IK)<br>${title}</h1>
<section><h2>1. PENDAHULUAN</h2><p>[Pendahuluan untuk IK ${title}]</p></section>
<section><h2>2. PERALATAN DAN BAHAN</h2><ul>[Daftar peralatan dan bahan untuk ${title}]</ul></section>
<section><h2>3. LANGKAH KERJA</h2>
<table>
<thead>
<tr><th>No</th><th>Aktivitas</th><th>Instruksi Detail</th><th>Perhatian</th><th>Penanggung Jawab</th></tr>
</thead>
<tbody>
${currentFlowchartData ? currentFlowchartData.steps.map((step, i) => `
<tr>
<td>${i+1}</td>
<td>${step.split(' ').slice(0, 3).join(' ')}...</td>
<td>${step}</td>
<td>[Perhatian khusus]</td>
<td>[Penanggung Jawab]</td>
</tr>`).join('') : `
<tr><td>1</td><td>Persiapan</td><td>Siapkan semua kebutuhan untuk ${title}</td><td>Pastikan lengkap</td><td>[Penanggung Jawab]</td></tr>
<tr><td>2</td><td>Pelaksanaan</td><td>Lakukan ${title} sesuai prosedur</td><td>Perhatikan keselamatan</td><td>[Penanggung Jawab]</td></tr>
<tr><td>3</td><td>Pemeriksaan</td><td>Periksa hasil ${title}</td><td>Pastikan sesuai standar</td><td>[Penanggung Jawab]</td></tr>
<tr><td>4</td><td>Dokumentasi</td><td>Catat hasil ${title}</td><td>Lengkap dan akurat</td><td>[Penanggung Jawab]</td></tr>`}
</tbody>
</table>
</section>
<section><h2>4. KESELAMATAN KERJA</h2><ul>[Keselamatan kerja untuk ${title}]</ul></section>
<section><h2>5. DOKUMENTASI</h2><ul>[Dokumentasi untuk ${title}]</ul></section>

<div class="print-btn"><button onclick="window.print()">Cetak Dokumen</button></div>

<hr><h1>VERSI KHUSUS AUDITOR</h1>

<!-- SEMUA TABEL TEMPLATE HARUS ADA -->
<!-- A. Matriks Keterkaitan SOP vs Klausul ISO -->
<!-- B. Risk Register -->
<!-- C. Form ${title.replace(/[^a-zA-Z0-9]/g, ' ')} -->
<!-- D. Template Analisis Risiko -->
<!-- E. Daftar Indikator KPI -->
<!-- F. Contoh Bukti Audit -->
<!-- G. Matriks Risiko Residual -->
<!-- H. Pengendalian Dokumen & Rekaman -->
<!-- I. Change Log Revisi SOP -->
<!-- J. Dashboard KPI -->
<!-- K. Checklist Audit Internal -->
<!-- L. RACI Matrix -->
<!-- M. Management Review Minutes -->
<!-- N. Program Audit Tahunan -->
<!-- O. HIRADC -->
<!-- P. SOP Pengendalian Perubahan -->

<div class="footer">
© 2026 ${company}. All rights reserved.<br>
Dokumen ${docNum} & ${docNum}-IK | Revisi: 01 | Berlaku sejak: 1 Januari 2026
</div>
</body>
</html>

INSTRUKSI KHUSUS:
1. Isi SEMUA bagian dengan konten yang sesuai dengan "${title}"
2. Gunakan struktur HTML yang sama persis dengan contoh
3. Sertakan SEMUA tabel template dari A sampai P
4. ${flowchartSection ? 'Flowchart sudah disediakan, masukkan di section 4A' : 'Buat flowchart SVG sederhana untuk section 4A'}
5. Sesuaikan isi tabel dengan konteks "${title}"
6. Gunakan warna: #2c5530 (hijau tua) dan #4a7c59 (hijau muda)
7. Pastikan responsive untuk semua device
8. Sertakan tombol print
9. Logo menggunakan URL: ${logo}
10. Footer mencantumkan: © 2026 ${company}

HASIL: HTML lengkap yang bisa langsung digunakan sebagai dokumen resmi perusahaan dengan semua template.`;
            }

            // Generate Combined Prompt
            function generateCombinedPrompt() {
                const title = sopTitle.value.trim() || 'Prosedur Operasional';
                const docNum = generateDocNumber();
                const desc = description.value.trim() || 'Deskripsi prosedur';
                const scopeText = scope.value.trim();
                const type = docType.value;
                
                if (type === 'full_template') {
                    return generateFullTemplatePrompt(title, docNum, desc, scopeText);
                }
                
                const company = companyName.value.trim() || 'GrandMitra - Supermarket Bahan Bangunan';
                const logo = logoUrl.value.trim() || 'https://grandmitra.com/wp-content/uploads/2024/09/gm-1536x328.png';
                
                let prompt = `PERINTAH UNTUK AI (DeepSeek/ChatGPT):
Buatkan dokumen ${type === 'both' ? 'SOP dan IK' : type === 'sop' ? 'SOP' : 'IK'} dalam format HTML.

INFORMASI PERUSAHAAN:
- Nama Perusahaan: ${company}
- Logo URL: ${logo}

INFORMASI DOKUMEN:
- No. Dokumen: ${type === 'both' ? docNum + ' dan ' + docNum + '-IK' : docNum}
- Tgl Berlaku: 1 Januari 2026
- Revisi: 01
- Halaman: 1/1

JUDUL: ${title}
DESKRIPSI: ${desc}
${scopeText ? '\nRUANG LINGKUP:\n' + scopeText : ''}

STRUKTUR HTML YANG DIHARAPKAN:
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${type === 'both' || type === 'sop' ? 'SOP' : 'IK'} - ${title}</title>
<style>
/* CSS profesional dengan warna perusahaan */
</style>
</head>
<body>
<!-- Header dengan logo -->
<!-- Konten dokumen -->
<!-- Footer -->
</body>
</html>

INSTRUKSI:
1. Buat dokumen HTML lengkap dengan CSS internal
2. ${type === 'both' ? 'Sertakan bagian SOP dan IK' : 'Fokus pada ' + type.toUpperCase()}
3. Gunakan warna: #2c5530 dan #4a7c59
4. Responsif untuk semua device
5. Sertakan tabel untuk data terstruktur
6. Tambahkan tombol print
7. Gunakan logo dari URL yang diberikan
8. Tampilkan nama perusahaan di footer`;

                return prompt;
            }

            // Generate and Display Prompt
            function generatePrompt() {
                const prompt = generateCombinedPrompt();
                promptOutput.textContent = prompt;
                successMessage.style.display = 'none';
                
                // Update character count
                document.getElementById('charCount').textContent = prompt.length.toLocaleString();
                
                // Update document info
                const docNum = generateDocNumber();
                document.getElementById('currentDocNumber').textContent = docNum;
                document.getElementById('footerDocNumber').textContent = `Dokumen ${docNum}`;
                
                // Update footer info dengan nama perusahaan
                const company = companyName.value.trim() || 'GrandMitra - Supermarket Bahan Bangunan';
                document.querySelector('.footer-info').innerHTML = 
                    `© 2026 ${company}. All rights reserved.<br>
                    <span id="footerDocNumber">Dokumen ${docNum}</span> | Revisi: 01 | Berlaku sejak: 1 Januari 2026`;
            }

            // Copy to Clipboard
            async function copyToClipboard() {
                try {
                    await navigator.clipboard.writeText(promptOutput.textContent);
                    showSuccess('✓ Prompt berhasil disalin ke clipboard! Buka chat.deepseek.com dan tempel (Ctrl+V)');
                } catch (err) {
                    promptOutput.select();
                    document.execCommand('copy');
                    showSuccess('✓ Prompt berhasil disalin (fallback method)!');
                }
            }

            // Open DeepSeek with Prompt
            function openDeepSeek() {
                const prompt = promptOutput.textContent;
                
                navigator.clipboard.writeText(prompt).then(() => {
                    window.open('https://chat.deepseek.com/', '_blank');
                    showSuccess('✓ DeepSeek dibuka di tab baru! Tempel prompt dengan Ctrl+V');
                }).catch(() => {
                    promptOutput.select();
                    document.execCommand('copy');
                    window.open('https://chat.deepseek.com/', '_blank');
                    showSuccess('✓ DeepSeek dibuka! Tempel prompt dengan Ctrl+V');
                });
            }

            // Show Success Message
            function showSuccess(message) {
                successMessage.innerHTML = message;
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 4000);
            }

            // Event Listeners untuk aplikasi
            generateBtn.addEventListener('click', generatePrompt);
            copyBtn.addEventListener('click', copyToClipboard);
            deepseekBtn.addEventListener('click', openDeepSeek);
            flowchartBtn.addEventListener('click', generateFlowchart);
            clearSelection.addEventListener('click', clearSOPSelection);
            openFlowchartBuilderBtn.addEventListener('click', openFlowchartBuilder);
            copyFlowchartBtn.addEventListener('click', copyFlowchartCode);
            
            // Handle SOP selection from dropdown
            sopTitle.addEventListener('input', handleManualInput);
            sopTitle.addEventListener('change', handleManualInput);
            
            // Event Listeners untuk search
            sopSearch.addEventListener('input', function() {
                performSearch(this.value);
            });
            
            sopSearch.addEventListener('keyup', function(e) {
                if (e.key === 'Escape') {
                    this.value = '';
                    performSearch('');
                }
            });
            
            resetSearch.addEventListener('click', function() {
                sopSearch.value = '';
                performSearch('');
                sopSearch.focus();
            });
            
            // Auto-generate when other fields change
            docType.addEventListener('change', function() {
                generatePrompt();
                // Sembunyikan flowchart preview jika bukan full template
                if (this.value !== 'full_template') {
                    flowchartPreview.style.display = 'none';
                    flowchartInfo.style.display = 'none';
                }
            });
            
            description.addEventListener('input', generatePrompt);
            scope.addEventListener('input', generatePrompt);
            companyName.addEventListener('input', generatePrompt);
            logoUrl.addEventListener('input', generatePrompt);

            // Initialize aplikasi
            initializeSOPData();
            generatePrompt();
            sopTitle.focus();
            
            // Tambahkan animasi shake untuk form error
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                    20%, 40%, 60%, 80% { transform: translateX(5px); }
                }
            `;
            document.head.appendChild(style);
        }
        
        // ================= INISIALISASI HALAMAN =================
        
        // Cek session saat halaman dimuat
        document.addEventListener('DOMContentLoaded', () => {
            // Coba pulihkan session yang ada
            const hasValidSession = checkExistingSession();
            
            if (!hasValidSession) {
                // Focus ke password field
                loginPassword.focus();
                
                // Tambahkan hint password (dapat dihapus di production)
                console.log('Password untuk akses:', HARDCODED_PASSWORD);
            }
        });
        
        // Prevent context menu dan copy-paste di password field untuk keamanan
        document.addEventListener('contextmenu', function(e) {
            if (e.target.id === 'loginPassword') {
                e.preventDefault();
            }
        });
        
        document.addEventListener('copy', function(e) {
            if (e.target.id === 'loginPassword') {
                e.preventDefault();
            }
        });
        
        document.addEventListener('cut', function(e) {
            if (e.target.id === 'loginPassword') {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
